{"version":3,"file":"weina.js","sources":["../../../../../../../packages/extension/WhichWay/src/nonameEx/custom/weina.js"],"sourcesContent":["import { lib, game, ui, get, ai, _status, Game, Get } from \"noname\";\r\n\r\nexport const weinaData = {\r\n\tHMS: {\r\n\t\tHMS_Anson: \"安森\",\r\n\t\tHMS_Rodney: \"罗德尼\",\r\n\t\tHMS_Nelson: \"纳尔逊\",\r\n\t\tHMS_Hood: \"胡德\",\r\n\t\tHMS_Repulse: \"声望\",\r\n\t\tHMS_Renown: \"反击\",\r\n\r\n\t\tHMS_Furious: \"暴怒\",\r\n\t\tHMS_Aurora: \"曙光\",\r\n\r\n\t\tHMS_York: \"约克\",\r\n\t\tHMS_Kent: \"肯特\",\r\n\t\tHMS_London: \"伦敦\",\r\n\r\n\t\tHMS_Zulu: \"祖鲁\",\r\n\t\tHMS_Tartar: \"鞑靼\",\r\n\t\tHMS_Javelin: \"标枪\",\r\n\t\tHMS_Kelly: \"凯利\",\r\n\t\tHMS_Legion: \"军团\",\r\n\t\tHMS_Matchless: \"无比\",\r\n\r\n\t\tHMS_Belfast: \"贝法\",\r\n\r\n\t\tHMS_Formidable: \"可畏\",\r\n\t\tHMS_Illustrious: \"光辉\",\r\n\r\n\t\tHMS_Valiant: \"勇士\",\r\n\t\tHMS_Fiji: \"斐济\",\r\n\t\tHMS_Jupiter: \"木星\",\r\n\t\tHMS_Glory: \"光荣\",\r\n\t\tHMS_Falcon: \"猎鹰\",\r\n\t\tHMS_Phoebe: \"菲比\",\r\n\t\tHMS_Dido: \"狄多\",\r\n\t\tHMS_Archer: \"弓手\",\r\n\t},\r\n\ttrigger: {\r\n\t\tname: lib.hookmap,\r\n\t\ttranslation: {\r\n\t\t\taddJudgeAfter: \"添加判定牌后\",\r\n\t\t\taddToExpansionAfter: \"将牌移除游戏后\",\r\n\t\t\tchangeHp: \"体力值改变\",\r\n\t\t\tchooseToRespondBegin: \"选择牌去响应后\",\r\n\t\t\tdamage: \"受到伤害\",\r\n\t\t\tdamageAfter: \"受到伤害后\",\r\n\t\t\tdamageBegin: \"受到伤害时\",\r\n\t\t\tdie: \"死亡\",\r\n\t\t\tdieBegin: \"死亡时\",\r\n\t\t\tdiscardAfter: \"弃牌后\",\r\n\t\t\tdying: \"进入濒死状态\",\r\n\t\t\tequipAfter: \"使用装备后\",\r\n\t\t\tgainAfter: \"获得牌后\",\r\n\t\t\tgainMaxHpBegin: \"获得体力上限时\",\r\n\t\t\tjudgeEnd: \"判定后\",\r\n\t\t\tlogSkill: \"触发技能\",\r\n\t\t\tloseAfter: \"失去牌后\",\r\n\t\t\tloseMaxHpBegin: \"失去体力上限时\",\r\n\t\t\tphaseAfter: \"回合结束时\",\r\n\t\t\tphaseBegin: \"回合开始时\",\r\n\t\t\trespondBegin: \"响应牌时\",\r\n\t\t\trespondEnd: \"响应牌后\",\r\n\t\t\tshowCharacter: \"武将登场\",\r\n\t\t\tuseCard: \"使用牌时\",\r\n\t\t},\r\n\t\tget() {\r\n\t\t\t// 更新翻译\r\n\t\t\tconst suffixes = [\"Begin\", \"After\", \"End\"];\r\n\t\t\tconst newTranslation = { ...this.translation };\r\n\r\n\t\t\t// 加入阶段的时机\r\n\t\t\tfor (let phase of lib.phaseName) this.translation[phase] = get.translation(phase);\r\n\r\n\t\t\tfor (let key in this.translation) {\r\n\t\t\t\tif (!suffixes.some(suffix => key.endsWith(suffix))) {\r\n\t\t\t\t\tif (!newTranslation.hasOwnProperty(key + \"Begin\")) {\r\n\t\t\t\t\t\tnewTranslation[key + \"Begin\"] = this.translation[key] + \"时\";\r\n\t\t\t\t\t\tdelete newTranslation[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!newTranslation.hasOwnProperty(key + \"After\")) {\r\n\t\t\t\t\t\tnewTranslation[key + \"After\"] = this.translation[key] + \"后\";\r\n\t\t\t\t\t\tdelete newTranslation[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet names = Object.keys({ ...this.name });\r\n\t\t\tfor (let name of names) {\r\n\t\t\t\tif ((!name) in this.translation) names.remove(name);\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\ttriggers: names,\r\n\t\t\t\ttranslation: newTranslation,\r\n\t\t\t};\r\n\t\t},\r\n\t},\r\n\tfilter: {\r\n\t\tdamage_no: {\r\n\t\t\tintro: \"本回合没有造成伤害\",\r\n\t\t\tfilter: function (event, player) {\r\n\t\t\t\treturn !player.getHistory(\"sourceDamage\").length;\r\n\t\t\t},\r\n\t\t},\r\n\t\tdamage_yes: {\r\n\t\t\tintro: \"本回合造成过伤害\",\r\n\t\t\tfilter: function (event, player) {\r\n\t\t\t\treturn player.getHistory(\"sourceDamage\").length;\r\n\t\t\t},\r\n\t\t},\r\n\t\tdraw_yes: {\r\n\t\t\tintro: \"本回合摸过牌\",\r\n\t\t\tfilter: function (event, player) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tplayer.getHistory(\"gain\", function (evt) {\r\n\t\t\t\t\t\treturn evt.getParent().name == \"draw\";\r\n\t\t\t\t\t}).length > 1\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\tdraw_no: {\r\n\t\t\tintro: \"本回合没有摸过牌\",\r\n\t\t\tfilter: function (event, player) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tplayer.getHistory(\"gain\", function (evt) {\r\n\t\t\t\t\t\treturn evt.getParent().name == \"draw\";\r\n\t\t\t\t\t}).length < 1\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\tloseCard_yes: {\r\n\t\t\tintro: \"本回合失去过牌\",\r\n\t\t\tfilter: function (event, player) {\r\n\t\t\t\treturn player.getHistory(\"lose\").length;\r\n\t\t\t},\r\n\t\t},\r\n\t\tloseCard_no: {\r\n\t\t\tintro: \"本回合没有失去过牌\",\r\n\t\t\tfilter: function (event, player) {\r\n\t\t\t\treturn !player.getHistory(\"lose\").length;\r\n\t\t\t},\r\n\t\t},\r\n\t\tuseCard_yes: {\r\n\t\t\tintro: \"本回合使用过牌\",\r\n\t\t\tfilter: function (event, player) {\r\n\t\t\t\treturn player.getHistory(\"useCard\").length > 0;\r\n\t\t\t},\r\n\t\t},\r\n\t\tuseCard_no: {\r\n\t\t\tintro: \"本回合没有使用过牌\",\r\n\t\t\tfilter: function (event, player) {\r\n\t\t\t\treturn player.getHistory(\"useCard\").length <= 0;\r\n\t\t\t},\r\n\t\t},\r\n\t\tcountCard_bigger: {\r\n\t\t\tintro: \"手牌数大于X\",\r\n\t\t\tfilter: function (event, player, name) {\r\n\t\t\t\treturn player.countCards(\"h\") > _status.weinaData[name].random.num.num(event, player);\r\n\t\t\t},\r\n\t\t},\r\n\t\tcountCard_lower: {\r\n\t\t\tintro: \"手牌数小于X\",\r\n\t\t\tfilter: function (event, player, name) {\r\n\t\t\t\treturn player.countCards(\"h\") < _status.weinaData[name].random.num.num(event, player);\r\n\t\t\t},\r\n\t\t},\r\n\t\tcountHp_bigger: {\r\n\t\t\tintro: \"体力值大于X\",\r\n\t\t\tfilter: function (event, player, name) {\r\n\t\t\t\treturn player.hp > _status.weinaData[name].random.num.num(event, player);\r\n\t\t\t},\r\n\t\t},\r\n\t\tcountHp_lower: {\r\n\t\t\tintro: \"体力值小于X\",\r\n\t\t\tfilter: function (event, player, name) {\r\n\t\t\t\treturn player.hp < _status.weinaData[name].random.num.num(event, player);\r\n\t\t\t},\r\n\t\t},\r\n\t\tcountloseCard_bigger: {\r\n\t\t\tintro: \"本回合失去过不少于X牌\",\r\n\t\t\tfilter: function (event, player, name) {\r\n\t\t\t\treturn player.getHistory(\"lose\").length > _status.weinaData[name].random.num.num(event, player);\r\n\t\t\t},\r\n\t\t},\r\n\t\tcountloseCard_lower: {\r\n\t\t\tintro: \"本回合失去过至多X张牌\",\r\n\t\t\tfilter: function (event, player, name) {\r\n\t\t\t\treturn !player.getHistory(\"lose\").length < _status.weinaData[name].random.num.num(event, player);\r\n\t\t\t},\r\n\t\t},\r\n\t\tcountUseCard_bigger: {\r\n\t\t\tintro: \"本回合使用过至少X+1张牌名不同的牌\",\r\n\t\t\tfilter: function (event, player, name) {\r\n\t\t\t\treturn Object.keys(player.getStat().card).length > _status.weinaData[name].random.num.num(event, player);\r\n\t\t\t},\r\n\t\t},\r\n\t\tcountUseCard_lower: {\r\n\t\t\tintro: \"本回合使用过至多X+1张牌名不同的牌\",\r\n\t\t\tfilter: function (event, player, name) {\r\n\t\t\t\treturn Object.keys(player.getStat().card).length < _status.weinaData[name].random.num.num(event, player);\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tcontent: {\r\n\t\tget() {\r\n\t\t\treturn {\r\n\t\t\t\t...this.card,\r\n\t\t\t\t...this.target.solo,\r\n\t\t\t};\r\n\t\t},\r\n\t\tcard: {\r\n\t\t\tviews: {\r\n\t\t\t\tintro: \"视为使用一张【$name】\",\r\n\t\t\t\tcontent() {\r\n\t\t\t\t\tif (!player.hasUseTarget(event.weinaData.name)) return;\r\n\t\t\t\t\tplayer.chooseUseTarget({ name: event.weinaData.name, isCard: true });\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tchoose: {\r\n\t\t\t\tintro: \"使用一张【$name】\",\r\n\t\t\t\tcontent() {\r\n\t\t\t\t\tif (!player.hasUseTarget(event.weinaData.name)) return;\r\n\t\t\t\t\tplayer.chooseToUse(`你可以使用一张${get.translation(event.weinaData.name)}`, card => get.name(card) == event.weinaData.name);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\ttarget: {\r\n\t\t\tsolo: {\r\n\t\t\t\tdraw: {\r\n\t\t\t\t\tintro: \"摸一张牌\",\r\n\t\t\t\t\tcontent() {\r\n\t\t\t\t\t\tplayer.draw();\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tdraw_x: {\r\n\t\t\t\t\tintro: \"摸X张牌\",\r\n\t\t\t\t\tcontent() {\r\n\t\t\t\t\t\tplayer.draw(event.weinaData.num);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\trecover: {\r\n\t\t\t\t\tintro: \"回复一点体力\",\r\n\t\t\t\t\tcontent() {\r\n\t\t\t\t\t\tplayer.recover();\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\treset: {\r\n\t\t\t\t\tintro: \"复原武将牌\",\r\n\t\t\t\t\tcontent() {\r\n\t\t\t\t\t\tplayer.turnOver(false);\r\n\t\t\t\t\t\tplayer.link(false);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tgain: {\r\n\t\t\t\t\tintro: \"获得一名其他角色的一张牌\",\r\n\t\t\t\t\tcontent() {\r\n\t\t\t\t\t\t\"step 0\";\r\n\t\t\t\t\t\tplayer\r\n\t\t\t\t\t\t\t.chooseTarget(\"请选择一名其他角色\", function (card, player, target) {\r\n\t\t\t\t\t\t\t\treturn target != player;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.set(\"ai\", target => get.attitude2(player) < 0);\r\n\t\t\t\t\t\t\"step 1\";\r\n\t\t\t\t\t\tif (result.targets) player.gainPlayerCard(\"hej\", result.targets[0], true).set(\"target\", result.targets[0]).set(\"complexSelect\", false).set(\"ai\", lib.card.shunshou.ai.button);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tjump: {\r\n\t\t\t\t\tintro: \"跳过$phase阶段\",\r\n\t\t\t\t\tcontent() {\r\n\t\t\t\t\t\tplayer.skip(event.weinaData.phase);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tx: {\r\n\t\tgroup: {\r\n\t\t\tintro: \"场上势力数\",\r\n\t\t\tnum() {\r\n\t\t\t\treturn game.countGroup();\r\n\t\t\t},\r\n\t\t},\r\n\t\tdamage: {\r\n\t\t\tintro: \"本回合造成伤害数\",\r\n\t\t\tnum(event, player) {\r\n\t\t\t\tlet num = player.getStat().damage;\r\n\t\t\t\treturn typeof num === \"number\" ? num : 0;\r\n\t\t\t},\r\n\t\t},\r\n\t\ttype: {\r\n\t\t\tintro: \"手牌中牌的类型数\",\r\n\t\t\tnum(event, player) {\r\n\t\t\t\treturn new Set(player.getCards(\"h\").map(i => get.type2(i))).size;\r\n\t\t\t},\r\n\t\t},\r\n\t\tmaxHp: {\r\n\t\t\tintro: \"你的体力上限\",\r\n\t\t\tnum(event, player) {\r\n\t\t\t\treturn player.maxHp;\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tgetName() {\r\n\t\tlet names = lib.inpile.filter(name => get.type(name) !== \"delay\" && get.type(name) !== \"equip\");\r\n\t\treturn names.randomGet();\r\n\t},\r\n\tgetPhase() {\r\n\t\treturn lib.phaseName.randomGet();\r\n\t},\r\n\tgetInfo(obj, parentKey = \"\", result = {}, random) {\r\n\t\tif (!obj) obj = this;\r\n\t\tfor (let key in obj) {\r\n\t\t\tif (typeof obj[key] === \"object\" && obj[key] !== null && !Array.isArray(obj[key])) {\r\n\t\t\t\tthis.getInfo(obj[key], key, result, random);\r\n\t\t\t}\r\n\t\t\tif (key === \"intro\") {\r\n\t\t\t\tlet infoValue = obj[key];\r\n\r\n\t\t\t\t// 进行替换操作\r\n\t\t\t\tinfoValue = infoValue\r\n\t\t\t\t\t.replace(/\\$name/g, get.translation(random.name))\r\n\t\t\t\t\t.replace(/\\$phase/g, get.translation(random.phase))\r\n\t\t\t\t\t.replace(/X/g, `X(${random.num?.intro || \"default\"})`);\r\n\r\n\t\t\t\tresult[parentKey] = infoValue;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\tfindKey(obj, targetKey) {\r\n\t\tconst result = [];\r\n\r\n\t\tswitch (obj) {\r\n\t\t\tcase \"triggers\":\r\n\t\t\t\tobj = this.trigger.get().translation;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"filter\":\r\n\t\t\t\tobj = this.filter;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"content\":\r\n\t\t\t\tobj = this.content.get();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tfunction recursiveSearch(currentObj) {\r\n\t\t\tfor (const key in currentObj) {\r\n\t\t\t\tif (currentObj.hasOwnProperty(key)) {\r\n\t\t\t\t\tif (key === targetKey) {\r\n\t\t\t\t\t\tresult.push({ [key]: currentObj[key] });\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (typeof currentObj[key] === \"object\" && currentObj[key] !== null) {\r\n\t\t\t\t\t\trecursiveSearch(currentObj[key]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\trecursiveSearch(obj);\r\n\t\treturn result;\r\n\t},\r\n};\r\n"],"names":["event","player","result"],"mappings":"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"}