{"version":3,"file":"webPlayDie.js","sources":["../../../../../../packages/extension/WhichWay/src/audio/webPlayDie.ts"],"sourcesContent":["import { whichWayToast } from \"../toast/index.ts\";\r\nimport { whichWayUtil } from \"../utill.js\";\r\nimport { whichWayAudio } from \"./index.ts\";\r\n\r\nexport class whichWayWebPlayDie {\r\n\tconstructor(char: WhichWayCharacter) {\r\n\t\tthis.that = char.whichWay;\r\n\t}\r\n\tthat: WhichWayCharConfig;\r\n    voicesTitle: string[] = [\"行动失败\"];\r\n\tget useLocalAudio(): boolean {\r\n\t\treturn whichWayUtil.config(\"useLocalAudio\") || false;\r\n\t}\r\n\r\n\tget lang(): string {\r\n\t\treturn whichWayAudio.getCharacterLang(this.that.charId);\r\n\t}\r\n\r\n\tget voiceUrl(): string[] {\r\n\t\treturn this.voicesTitle.map(title => whichWayAudio.compileVoicePath(this.that.charId, this.lang, title));\r\n\t}\r\n\r\n    play():HTMLAudioElement {\r\n        const audio = new Audio(this.voiceUrl.randomGet());\r\n        audio.play();\r\n\r\n        if(!whichWayUtil.config(\"noTipUseWeb\")){\r\n            whichWayToast.showToast(`[驶舰之向] 正在使用网络!`);\r\n        }\r\n\r\n        return audio;\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;AAIO,MAAM,mBAAmB;AAAA,EAC/B,YAAY,MAAyB;AACpC,SAAK,OAAO,KAAK;AAAA,EAClB;AAAA,EACA;AAAA,EACG,cAAwB,CAAC,MAAM;AAAA,EAClC,IAAI,gBAAyB;AAC5B,WAAO,aAAa,OAAO,eAAe,KAAK;AAAA,EAChD;AAAA,EAEA,IAAI,OAAe;AAClB,WAAO,cAAc,iBAAiB,KAAK,KAAK,MAAM;AAAA,EACvD;AAAA,EAEA,IAAI,WAAqB;AACxB,WAAO,KAAK,YAAY,IAAI,CAAA,UAAS,cAAc,iBAAiB,KAAK,KAAK,QAAQ,KAAK,MAAM,KAAK,CAAC;AAAA,EACxG;AAAA,EAEG,OAAwB;AACpB,UAAM,QAAQ,IAAI,MAAM,KAAK,SAAS,WAAW;AACjD,UAAM,KAAA;AAEN,QAAG,CAAC,aAAa,OAAO,aAAa,GAAE;AACnC,oBAAc,UAAU,gBAAgB;AAAA,IAC5C;AAEA,WAAO;AAAA,EACX;AACJ;"}