{"version":3,"file":"index.js","sources":["../../../../../../packages/extension/WhichWay/src/card/index.js"],"sourcesContent":["import { lib, game, ui, get, ai, _status } from \"noname\";\r\n\r\nconst path = {\r\n\tchar: \"ext:WhichWay/image/character/\",\r\n\tcard : \"ext:WhichWay/image/card/\",\r\n}\r\n\r\ngame.import('card', function (lib, game, ui, get, ai, _status) {\r\n\tvar mrfzcard = {\r\n\t\tname: 'mrfzcard',\r\n\t\tconnect: true,\r\n\t\tcard: {\r\n\t\t\t//嵯峨 幻有\r\n\t\t\tcuoe_huanyoumrfzCard:{\r\n\t\t\t\timage: `${path.char}cuoemrfz.jpg`,\r\n\t\t\t\taudio:false,\r\n\t\t\t\ttype:\"basic\",\r\n\t\t\t\tenable:true,\r\n\t\t\t\tnotarget: true,\r\n\t\t\t\tdestroy: true,\r\n\t\t\t\tusable:5,\r\n\t\t\t\tasync content(event,trigger,player) {\r\n\t\t\t\t\tconst trueCard = event.cards[0];\r\n\t\t\t\t\tif(get.itemtype(trueCard) === \"card\"&&player.hasUseTarget(trueCard)){\r\n\t\t\t\t\t\tawait player.chooseUseTarget(trueCard).set(\"noTriggerHuanyoumrfz\",true);\r\n\t\t\t\t\t} else{\r\n\t\t\t\t\t\tevent.card.failToUse = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tai:{\r\n\t\t\t\t\tresult:{\r\n\t\t\t\t\t\ttarget:1,\r\n\t\t\t\t\t\tplayer:1,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbasic: {\r\n\t\t\t\t\t\torder: 7.4,\r\n\t\t\t\t\t\tuseful: 1.2,\r\n\t\t\t\t\t\tvalue: 4,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\r\n\t\t\t// 凯瑟琳 勠力同心\r\n\t\t\tksl_lulitongxinmrfz:{\r\n\t\t\t\timage: `${path.card}ksl_lulitongxinmrfz.jpg`,\r\n\t\t\t\taudio: \"lulitongxin\",\r\n\t\t\t\ttype: \"trick\",\r\n\t\t\t\tenable: true,\r\n\t\t\t\tnotarget: true,\r\n\t\t\t\tasync content(event,trigger,player) {\r\n\t\t\t\t\tlet list = [`横置角色`]\r\n\t\t\t\t\tif(game.hasPlayer(c=>c.isLinked())) list.push(`解除横置`);\r\n\t\t\t\t\tconst control = list.length===1? list[0] :\r\n\t\t\t\t\t\tawait player.chooseControl(list)\r\n\t\t\t\t\t\t.set('prompt', '请选择一项')\r\n\t\t\t\t\t\t.set('ai',()=>{\r\n\t\t\t\t\t\t\t\tlet player = get.event().player;\r\n\t\t\t\t\t\t\t\tlet Links = game.filterPlayer(p=>p.isLinked());\r\n\t\t\t\t\t\t\t\tlet canDraws = 0;\r\n\t\t\t\t\t\t\t\tlet canDiscard = 0;\r\n\t\t\t\t\t\t\t\tfor(let char of game.players.filter(i=>Links.includes(i))){\r\n\t\t\t\t\t\t\t\t\tif(char.countCards('h')>4) continue;\r\n\t\t\t\t\t\t\t\t\tcanDraws += get.attitude2(char)>0?1:-1 * (4 - char.countCards('h'));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfor(let char of Links){\r\n\t\t\t\t\t\t\t\t\tif(get.attitude2(char)>0){\r\n\t\t\t\t\t\t\t\t\t\tcanDiscard-=0.5;\r\n\t\t\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tcanDiscard += char.countCards('h')>0?1:-1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn canDraws>canDiscard?'横置角色':'解除横置';\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.forResultControl();\r\n\t\t\t\t\tif(!control) return;\r\n\t\t\t\t\tif(control==='横置角色'){\r\n\t\t\t\t\t\tconst targets = await player.chooseTarget([1,game.countGroup()],true,`请横置至多${game.countGroup()}名角色`)\r\n\t\t\t\t\t\t\t.set('filterTarget',(card,target,player)=>{\r\n\t\t\t\t\t\t\t\treturn !target.isLinked();\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.set('ai',target=>get.attitude2(target)>0&&target.countCards('h')<4)\r\n\t\t\t\t\t\t    .forResult('targets');\r\n\t\t\t\t\t\tif(!targets) return;\r\n\t\t\t\t\t\tfor(let target of game.players){\r\n\t\t\t\t\t\t\tif(targets.includes(target)) {\r\n\t\t\t\t\t\t\t\ttarget.link();\r\n\t\t\t\t\t\t\t\tawait target.drawTo(4);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(!target.isLinked()) continue;\r\n\t\t\t\t\t\t\tlet hs = target.getCards('h', card => !get.is.shownCard(card));\r\n\t\t\t\t\t\t\tif(hs.length) target.addShownCards(hs, 'visible_ksl_luli');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfor(let target of game.filterPlayer(c=>c.isLinked())){\r\n\t\t\t\t\t\t\tawait target.link(false);\r\n\t\t\t\t\t\t\tlet hs = target.getCards('h', card => get.is.shownCard(card));\r\n\t\t\t\t\t\t\tif(hs.length) target.hideShownCards(hs);\r\n\t\t\t\t\t\t\tif(target.hasCard()) target.chooseToDiscard(true,`请弃置一张手牌`);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tai: {\r\n\t\t\t\t\twuxie: (target, card, player, viewer, status) => {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tstatus * get.attitude(viewer, player._trueMe || player) > 0 ||\r\n\t\t\t\t\t\t\tget.attitude(viewer, player) > 0\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbasic: {\r\n\t\t\t\t\t\torder: 7.4,\r\n\t\t\t\t\t\tuseful: 1.2,\r\n\t\t\t\t\t\tvalue: 4,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tresult: {\r\n\t\t\t\t\t\ttarget: (player, target) => {\r\n\t\t\t\t\t\t\tif (player.hasUnknown()) return 0;\r\n\t\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttag: {\r\n\t\t\t\t\t\tmultitarget: 1,\r\n\t\t\t\t\t\tmultineg: 1,\r\n\t\t\t\t\t\tnorepeat: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\r\n\t\t\t//莱欧斯的剑助\r\n\t\t\tjianzhumrfz:{\r\n\t\t\t\timage: `${path.card}jianzhumrfz.jpg`,\r\n\t\t\t\ttype: 'equip',\r\n\t\t\t\tsubtype: 'equip1',\r\n\t\t\t\tdestroy: true,\r\n\t\t\t\tderivation: 'laiousimrfz',\r\n\t\t\t\tdistance: {\r\n\t\t\t\t\tattackFrom: -3,\r\n\t\t\t\t},\r\n\t\t\t\tskills: [\"jianzhumrfz_skill\"],\r\n\t\t\t\tai: {\r\n\t\t\t\t\tbasic: {\r\n\t\t\t\t\t\tequipValue: 8,\r\n\t\t\t\t\t\tvalue: (card, player, index, method) => {\r\n\t\t\t\t\t\t\tif (!player.getCards(\"e\").includes(card) && !player.canEquip(card, true)) return 0.01;\r\n\t\t\t\t\t\t\tconst info = get.info(card),\r\n\t\t\t\t\t\t\t\tcurrent = player.getEquip(info.subtype),\r\n\t\t\t\t\t\t\t\tvalue = current && card != current && get.value(current, player);\r\n\t\t\t\t\t\t\tlet equipValue = info.ai.equipValue || info.ai.basic.equipValue;\r\n\t\t\t\t\t\t\tif (typeof equipValue == \"function\") {\r\n\t\t\t\t\t\t\t\tif (method == \"raw\") return equipValue(card, player);\r\n\t\t\t\t\t\t\t\tif (method == \"raw2\") return equipValue(card, player) - value;\r\n\t\t\t\t\t\t\t\treturn Math.max(0.1, equipValue(card, player) - value);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (typeof equipValue != \"number\") equipValue = 0;\r\n\t\t\t\t\t\t\tif (method == \"raw\") return equipValue;\r\n\t\t\t\t\t\t\tif (method == \"raw2\") return equipValue - value;\r\n\t\t\t\t\t\t\treturn Math.max(0.1, equipValue - value);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tenable: true,\r\n\t\t\t\tselectTarget: -1,\r\n\t\t\t\tfilterTarget: (card, player, target) => player == target && target.canEquip(card, true),\r\n\t\t\t\tmodTarget: true,\r\n\t\t\t\tallowMultiple: false,\r\n\t\t\t\tonLose: function () {\r\n\t\t\t\t\tif ((!event.getParent(2) || event.getParent(2).name != 'swapEquip') && (event.getParent().type != 'equip' || event.getParent().swapEquip)) {\r\n\t\t\t\t\t\tcard.destroyed = true;\r\n\t\t\t\t\t\tgame.log(card, '被销毁了');\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcontent: function () {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!card?.cards.some(card => {\r\n\t\t\t\t\t\t\treturn get.position(card, true) !== \"o\";\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\ttarget.equip(card);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\ttoself: true,\r\n\t\t\t},\r\n\t\t\t//稀音的镜头\r\n\t\t\tjingtouE1mrfz: {\r\n\t\t\t\timage: `${path.card}jingtouE1mrfz.jpg`,\r\n\t\t\t\ttype: \"equip\",\r\n\t\t\t\tsubtype: \"equip1\",\r\n\t\t\t\tdistance: {\r\n\t\t\t\t\tattackFrom: 1,\r\n\t\t\t\t},\r\n\t\t\t\tonLose: function () {\r\n\t\t\t\t\tif ((!event.getParent(2) || event.getParent(2).name != 'swapEquip') && (event.getParent().type != 'equip' || event.getParent().swapEquip)) {\r\n\t\t\t\t\t\tcards.forEach(card => {\r\n\t\t\t\t\t\t\tcard.fix();\r\n\t\t\t\t\t\t\tcard.remove();\r\n\t\t\t\t\t\t\tcard.destroyed = true;\r\n\t\t\t\t\t\t\tgame.log(card, \"被销毁了\");\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar player = _status.event.player,\r\n\t\t\t\t\t\ths = player.getCards('h', card => get.is.shownCard(card));\r\n\t\t\t\t\tif (hs.length > 0) player.hideShownCards(hs);\r\n\t\t\t\t},\r\n\t\t\t\tequipDelay: false,\r\n\t\t\t\tloseDelay: false,\r\n\t\t\t\tskills: [\"jingtoumrfz_skill\"],\r\n\t\t\t\tai: {\r\n\t\t\t\t\tbasic: {\r\n\t\t\t\t\t\tequipValue: -1,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tresult: {\r\n\t\t\t\t\t\ttarget: (player, target, card) => get.equipResult(player, target, card.name),\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tenable: true,\r\n\t\t\t\tselectTarget: -1,\r\n\t\t\t\tfilterTarget: (card, player, target) => player == target && target.canEquip(card, true),\r\n\t\t\t\tmodTarget: true,\r\n\t\t\t\tallowMultiple: false,\r\n\t\t\t\tcontent: function () {\r\n\t\t\t\t\tif (cards.length && get.position(cards[0], true) == 'o') target.equip(cards[0]);\r\n\t\t\t\t},\r\n\t\t\t\ttoself: true,\r\n\t\t\t},\r\n\r\n\t\t\tjingtouE2mrfz: {\r\n\t\t\t\timage: `${path.card}jingtouE2mrfz.jpg`,\r\n\t\t\t\ttype: \"equip\",\r\n\t\t\t\tsubtype: \"equip2\",\r\n\t\t\t\tonLose: function () {\r\n\t\t\t\t\tif ((!event.getParent(2) || event.getParent(2).name != 'swapEquip') && (event.getParent().type != 'equip' || event.getParent().swapEquip)) {\r\n\t\t\t\t\t\tcards.forEach(card => {\r\n\t\t\t\t\t\t\tcard.fix();\r\n\t\t\t\t\t\t\tcard.remove();\r\n\t\t\t\t\t\t\tcard.destroyed = true;\r\n\t\t\t\t\t\t\tgame.log(card, \"被销毁了\");\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar player = _status.event.player,\r\n\t\t\t\t\t\ths = player.getCards('h', card => get.is.shownCard(card));\r\n\t\t\t\t\tif (hs.length > 0) player.hideShownCards(hs);\r\n\t\t\t\t},\r\n\t\t\t\tequipDelay: false,\r\n\t\t\t\tloseDelay: false,\r\n\t\t\t\tskills: [\"jingtoumrfz_skill\"],\r\n\t\t\t\tai: {\r\n\t\t\t\t\tbasic: {\r\n\t\t\t\t\t\tequipValue: -1,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tresult: {\r\n\t\t\t\t\t\ttarget: (player, target, card) => get.equipResult(player, target, card.name),\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tenable: true,\r\n\t\t\t\tselectTarget: -1,\r\n\t\t\t\tfilterTarget: (card, player, target) => player == target && target.canEquip(card, true),\r\n\t\t\t\tmodTarget: true,\r\n\t\t\t\tallowMultiple: false,\r\n\t\t\t\tcontent: function () {\r\n\t\t\t\t\tif (cards.length && get.position(cards[0], true) == 'o') target.equip(cards[0]);\r\n\t\t\t\t},\r\n\t\t\t\ttoself: true,\r\n\t\t\t},\r\n\r\n\t\t\tjingtouE3mrfz: {\r\n\t\t\t\timage: `${path.card}jingtouE3mrfz.jpg`,\r\n\t\t\t\ttype: \"equip\",\r\n\t\t\t\tsubtype: \"equip3\",\r\n\t\t\t\tdistance: {\r\n\t\t\t\t\tglobalTo: 1,\r\n\t\t\t\t},\r\n\t\t\t\tonLose: function () {\r\n\t\t\t\t\tif ((!event.getParent(2) || event.getParent(2).name != 'swapEquip') && (event.getParent().type != 'equip' || event.getParent().swapEquip)) {\r\n\t\t\t\t\t\tcards.forEach(card => {\r\n\t\t\t\t\t\t\tcard.fix();\r\n\t\t\t\t\t\t\tcard.remove();\r\n\t\t\t\t\t\t\tcard.destroyed = true;\r\n\t\t\t\t\t\t\tgame.log(card, \"被销毁了\");\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar player = _status.event.player,\r\n\t\t\t\t\t\ths = player.getCards('h', card => get.is.shownCard(card));\r\n\t\t\t\t\tif (hs.length > 0) player.hideShownCards(hs);\r\n\t\t\t\t},\r\n\t\t\t\tequipDelay: false,\r\n\t\t\t\tloseDelay: false,\r\n\t\t\t\tskills: [\"jingtoumrfz_skill\"],\r\n\t\t\t\tai: {\r\n\t\t\t\t\tbasic: {\r\n\t\t\t\t\t\tequipValue: -1,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tresult: {\r\n\t\t\t\t\t\ttarget: (player, target, card) => get.equipResult(player, target, card.name),\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tenable: true,\r\n\t\t\t\tselectTarget: -1,\r\n\t\t\t\tfilterTarget: (card, player, target) => player == target && target.canEquip(card, true),\r\n\t\t\t\tmodTarget: true,\r\n\t\t\t\tallowMultiple: false,\r\n\t\t\t\tcontent: function () {\r\n\t\t\t\t\tif (cards.length && get.position(cards[0], true) == 'o') target.equip(cards[0]);\r\n\t\t\t\t},\r\n\t\t\t\ttoself: true,\r\n\t\t\t},\r\n\r\n\t\t\tjingtouE4mrfz: {\r\n\t\t\t\timage: `${path.card}jingtouE4mrfz.jpg`,\r\n\t\t\t\ttype: \"equip\",\r\n\t\t\t\tsubtype: \"equip4\",\r\n\t\t\t\tdistance: {\r\n\t\t\t\t\tglobalFrom: -1,\r\n\t\t\t\t},\r\n\t\t\t\tonLose: function () {\r\n\t\t\t\t\tif ((!event.getParent(2) || event.getParent(2).name != 'swapEquip') && (event.getParent().type != 'equip' || event.getParent().swapEquip)) {\r\n\t\t\t\t\t\tcards.forEach(card => {\r\n\t\t\t\t\t\t\tcard.fix();\r\n\t\t\t\t\t\t\tcard.remove();\r\n\t\t\t\t\t\t\tcard.destroyed = true;\r\n\t\t\t\t\t\t\tgame.log(card, \"被销毁了\");\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar player = _status.event.player,\r\n\t\t\t\t\t\ths = player.getCards('h', card => get.is.shownCard(card));\r\n\t\t\t\t\tif (hs.length > 0) player.hideShownCards(hs);\r\n\t\t\t\t},\r\n\t\t\t\tequipDelay: false,\r\n\t\t\t\tloseDelay: false,\r\n\t\t\t\tskills: [\"jingtoumrfz_skill\"],\r\n\t\t\t\tai: {\r\n\t\t\t\t\tbasic: {\r\n\t\t\t\t\t\tequipValue: -1,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tresult: {\r\n\t\t\t\t\t\ttarget: (player, target, card) => get.equipResult(player, target, card.name),\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tenable: true,\r\n\t\t\t\tselectTarget: -1,\r\n\t\t\t\tfilterTarget: (card, player, target) => player == target && target.canEquip(card, true),\r\n\t\t\t\tmodTarget: true,\r\n\t\t\t\tallowMultiple: false,\r\n\t\t\t\tcontent: function () {\r\n\t\t\t\t\tif (cards.length && get.position(cards[0], true) == 'o') target.equip(cards[0]);\r\n\t\t\t\t},\r\n\t\t\t\ttoself: true,\r\n\t\t\t},\r\n\r\n\t\t\tjingtouE5mrfz: {\r\n\t\t\t\timage: `${path.card}jingtouE5mrfz.jpg`,\r\n\t\t\t\ttype: \"equip\",\r\n\t\t\t\tsubtype: \"equip5\",\r\n\t\t\t\tonLose: function () {\r\n\t\t\t\t\tif ((!event.getParent(2) || event.getParent(2).name != 'swapEquip') && (event.getParent().type != 'equip' || event.getParent().swapEquip)) {\r\n\t\t\t\t\t\tcards.forEach(card => {\r\n\t\t\t\t\t\t\tcard.fix();\r\n\t\t\t\t\t\t\tcard.remove();\r\n\t\t\t\t\t\t\tcard.destroyed = true;\r\n\t\t\t\t\t\t\tgame.log(card, \"被销毁了\");\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar player = _status.event.player,\r\n\t\t\t\t\t\ths = player.getCards('h', card => get.is.shownCard(card));\r\n\t\t\t\t\tif (hs.length > 0) player.hideShownCards(hs);\r\n\t\t\t\t},\r\n\t\t\t\tequipDelay: false,\r\n\t\t\t\tloseDelay: false,\r\n\t\t\t\tskills: [\"jingtoumrfz_skill\"],\r\n\t\t\t\tai: {\r\n\t\t\t\t\tbasic: {\r\n\t\t\t\t\t\tequipValue: -1,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tresult: {\r\n\t\t\t\t\t\ttarget: (player, target, card) => get.equipResult(player, target, card.name),\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tenable: true,\r\n\t\t\t\tselectTarget: -1,\r\n\t\t\t\tfilterTarget: (card, player, target) => player == target && target.canEquip(card, true),\r\n\t\t\t\tmodTarget: true,\r\n\t\t\t\tallowMultiple: false,\r\n\t\t\t\tcontent: function () {\r\n\t\t\t\t\tif (cards.length && get.position(cards[0], true) == 'o') target.equip(cards[0]);\r\n\t\t\t\t},\r\n\t\t\t\ttoself: true,\r\n\t\t\t},\r\n\r\n\t\t\t//天火的坠火\r\n\t\t\tsjzx_zhuihuomrfz: {\r\n\t\t\t\timage: `${path.card}sjzx_zhuihuomrfz.jpg`,\r\n\t\t\t\ttype: 'special_delay',\r\n\t\t\t\tallowDuplicate: true,\r\n\t\t\t\tblankCard: true,\r\n\t\t\t\tfullimage: true,\r\n\t\t\t\twuxieable: false,\r\n\t\t\t\teffect: function () {\r\n\t\t\t\t\t'step 0'\r\n\t\t\t\t\tvar card = get.autoViewAs(event.cards[0]);\r\n\t\t\t\t\tcard.storage.sjzx_zhuihuomrfz = true;\r\n\t\t\t\t\tif (player.countCards('he') > 1) player.chooseToDiscard(2, 'he', '【坠火】:请选择弃置两张牌，选择取消则受到一点火焰伤害')\r\n\t\t\t\t\t\t.set('ai', function (card) {\r\n\t\t\t\t\t\t\tvar player = _status.event.player;\r\n\t\t\t\t\t\t\tif (player.hp < 2 && player.countCards('hs', card => { return card.name == 'tao' || card.name == 'jiu' }) < 1) return -1;\r\n\t\t\t\t\t\t\treturn 8 - get.value(card);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tplayer.damage('fire', 'nosource');\r\n\t\t\t\t\t\tplayer.loseToDiscardpile(event.cards[0]);\r\n\t\t\t\t\t\tevent.finish();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t'step 1'\r\n\t\t\t\t\tif (result.bool) {\r\n\t\t\t\t\t\t//game.log(player,'弃置了',result.cards);\r\n\t\t\t\t\t\tplayer.loseToDiscardpile(event.cards[0]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tplayer.damage('fire', 'nosource');\r\n\t\t\t\t\t\tplayer.loseToDiscardpile(event.cards[0]);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t//莱伊的沙地兽\r\n\t\t\tshadishoumrfz: {\r\n\t\t\t\timage: `${path.card}shadishoumrfz.jpg`,\r\n\t\t\t\ttype: \"equip\",\r\n\t\t\t\tsubtype: \"equip2\",\r\n\t\t\t\tonLose: function () {\r\n\t\t\t\t\tif ((!event.getParent(2) || event.getParent(2).name != \"swapEquip\") && (event.getParent().type != \"equip\" || event.getParent().swapEquip)) {\r\n\t\t\t\t\t\tcards.forEach(card => {\r\n\t\t\t\t\t\t\tcard.fix();\r\n\t\t\t\t\t\t\tcard.remove();\r\n\t\t\t\t\t\t\tcard.destroyed = true;\r\n\t\t\t\t\t\t\tgame.log(card, \"被销毁了\");\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tequipDelay: false,\r\n\t\t\t\tloseDelay: false,\r\n\t\t\t\tskills: [\"shadishoumrfz_skill\"],\r\n\t\t\t\tai: {\r\n\t\t\t\t\tbasic: {\r\n\t\t\t\t\t\tequipValue: -1,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tresult: {\r\n\t\t\t\t\t\ttarget: (player, target, card) => get.equipResult(player, target, card.name),\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tenable: true,\r\n\t\t\t\tselectTarget: -1,\r\n\t\t\t\tfilterTarget: (card, player, target) => player == target && target.canEquip(card, true),\r\n\t\t\t\tmodTarget: true,\r\n\t\t\t\tallowMultiple: false,\r\n\t\t\t\tcontent: function () {\r\n\t\t\t\t\tif (cards.length && get.position(cards[0], true) == 'o') target.equip(cards[0]);\r\n\t\t\t\t},\r\n\t\t\t\ttoself: true,\r\n\t\t\t},\r\n\t\t\t//战车的DP-27\r\n\t\t\tDP27mrfz: {\r\n\t\t\t\timage: `${path.card}DP27mrfz.jpg`,\r\n\t\t\t\ttype: 'equip',\r\n\t\t\t\tsubtype: 'equip1',\r\n\t\t\t\tdestroy: true,\r\n\t\t\t\tderivation: 'zhanchemrfz',\r\n\t\t\t\tdistance: {\r\n\t\t\t\t\tattackFrom: -3,\r\n\t\t\t\t},\r\n\t\t\t\tskills: [\"DP27mrfz_skill\"],\r\n\t\t\t\tai: {\r\n\t\t\t\t\tbasic: {\r\n\t\t\t\t\t\tequipValue: 8,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t//鸿雪的打字机\r\n\t\t\tdazijimrfz: {\r\n\t\t\t\timage: `${path.card}dazijimrfz.jpg`,\r\n\t\t\t\ttype: \"equip\",\r\n\t\t\t\tsubtype: \"equip1\",\r\n\t\t\t\tdestroy: true,\r\n\t\t\t\tderivation: 'hongxuemrfz',\r\n\t\t\t\tdistance: {\r\n\t\t\t\t\tattackFrom: -2,\r\n\t\t\t\t},\r\n\t\t\t\tai: {\r\n\t\t\t\t\tbasic: {\r\n\t\t\t\t\t\tequipValue: 5,\r\n\t\t\t\t\t\torder: function (card, player) {\r\n\t\t\t\t\t\t\tif (player && player.hasSkillTag('reverseEquip')) {\r\n\t\t\t\t\t\t\t\treturn 8.5 - get.equipValue(card, player) / 20;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\treturn 8 + get.equipValue(card, player) / 20;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tuseful: 2,\r\n\t\t\t\t\t\tvalue: function (card, player, index, method) {\r\n\t\t\t\t\t\t\tif (player.isDisabled(get.subtype(card))) return 0.01;\r\n\t\t\t\t\t\t\tvar value = 0;\r\n\t\t\t\t\t\t\tvar info = get.info(card);\r\n\t\t\t\t\t\t\tvar current = player.getEquip(info.subtype);\r\n\t\t\t\t\t\t\tif (current && card != current) {\r\n\t\t\t\t\t\t\t\tvalue = get.value(current, player);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar equipValue = info.ai.equipValue;\r\n\t\t\t\t\t\t\tif (equipValue == undefined) {\r\n\t\t\t\t\t\t\t\tequipValue = info.ai.basic.equipValue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (typeof equipValue == 'function') {\r\n\t\t\t\t\t\t\t\tif (method == 'raw') return equipValue(card, player);\r\n\t\t\t\t\t\t\t\tif (method == 'raw2') return equipValue(card, player) - value;\r\n\t\t\t\t\t\t\t\treturn Math.max(0.1, equipValue(card, player) - value);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (typeof equipValue != 'number') equipValue = 0;\r\n\t\t\t\t\t\t\tif (method == 'raw') return equipValue;\r\n\t\t\t\t\t\t\tif (method == 'raw2') return equipValue - value;\r\n\t\t\t\t\t\t\treturn Math.max(0.1, equipValue - value);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\tresult: {\r\n\t\t\t\t\t\ttarget: function (player, target, card) {\r\n\t\t\t\t\t\t\treturn get.equipResult(player, target, card.name);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tskills: [\"dazijimrfzskill\"],\r\n\t\t\t\tenable: true,\r\n\t\t\t\tselectTarget: -1,\r\n\t\t\t\tfilterTarget: function (card, player, target) {\r\n\t\t\t\t\treturn target == player;\r\n\t\t\t\t},\r\n\t\t\t\tmodTarget: true,\r\n\t\t\t\tallowMultiple: false,\r\n\t\t\t\tcontent: function () {\r\n\t\t\t\t\tif (cards.length && get.position(cards[0], true) == 'o') target.equip(cards[0]);\r\n\t\t\t\t},\r\n\t\t\t\ttoself: true,\r\n\t\t\t\tfullimage: true,\r\n\t\t\t},\r\n\t\t\t//大铁老师的支援装备\r\n\t\t\tbaitiemrfzcard1: {\r\n\t\t\t\timage: `${path.card}baitiemrfzcard1.jpg`,\r\n\t\t\t\ttype: \"equip\",\r\n\t\t\t\tsubtype: \"equip5\",\r\n\t\t\t\tskills: ['baitiemrfzcard1_skill'],\r\n\t\t\t\tai: {\r\n\t\t\t\t\tbasic: {\r\n\t\t\t\t\t\tequipValue: 7,\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tbaitiemrfzcard2: {\r\n\t\t\t\timage: `${path.card}baitiemrfzcard2.jpg`,\r\n\t\t\t\ttype: \"equip\",\r\n\t\t\t\tsubtype: \"equip5\",\r\n\t\t\t\tskills: ['baitiemrfzcard2_skill'],\r\n\t\t\t\tai: {\r\n\t\t\t\t\tbasic: {\r\n\t\t\t\t\t\tequipValue: 7.5,\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tbaitiemrfzcard3: {\r\n\t\t\t\timage: `${path.card}baitiemrfzcard3.jpg`,\r\n\t\t\t\ttype: \"equip\",\r\n\t\t\t\tsubtype: \"equip5\",\r\n\t\t\t\tskills: ['baitiemrfzcard3_skill'],\r\n\t\t\t\tai: {\r\n\t\t\t\t\tbasic: {\r\n\t\t\t\t\t\tequipValue: 7.8,\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\tskill: {\r\n\t\t\tjingtoumrfz_skill: {\r\n\t\t\t\tmod: {\r\n\t\t\t\t\tinRangeOf: function (from, to) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tattackRange:function (player, num) {\r\n                    \tif(player.hasCard('jingtouE1mrfz','e')) return num -= 1;\r\n                \t},\r\n\t\t\t\t},\r\n\t\t\t\ttrigger: { player: ['gainAfter', 'equipAfter'] },\r\n\t\t\t\tforced: true,\r\n\t\t\t\tfilter: (event, player) => {\r\n\t\t\t\t\treturn player.countCards('h', card => !get.is.shownCard(card)) > 0;\r\n\t\t\t\t},\r\n\t\t\t\tcontent() {\r\n\t\t\t\t\tlet hs = player.getCards('h', card => !get.is.shownCard(card));\r\n\t\t\t\t\tif (hs.length == 0) return;\r\n\t\t\t\t\tplayer.addShownCards(hs, 'visible_jingtoumrfz');\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tdazijimrfzskill: {\r\n\t\t\t\ttrigger: {\r\n\t\t\t\t\tplayer: \"useCard\",\r\n\t\t\t\t},\r\n\t\t\t\tdirect: true,\r\n\t\t\t\tfilter: function (event, player) {\r\n\t\t\t\t\tif (!player.hasSkill('ruibimrfz')) return false;\r\n\t\t\t\t\tif (event.dazijimrfzskill_buff || !event.targets.length || player.hasSkill('dazijimrfz_buff')) return false;\r\n\t\t\t\t\treturn event.card.name == 'sha';\r\n\t\t\t\t},\r\n\t\t\t\tcontent: function () {\r\n\t\t\t\t\t'step 0'\r\n\t\t\t\t\tplayer.addTempSkill('dazijimrfzskill_buff', 'phaseUseAfter');\r\n\t\t\t\t\ttrigger.dazijimrfzskill_buff = player;\r\n\t\t\t\t},\r\n\t\t\t\tsubSkill: {\r\n\t\t\t\t\tbuff: {\r\n\t\t\t\t\t\ttrigger: {\r\n\t\t\t\t\t\t\tglobal: \"useCardToTargeted\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcharlotte: true,\r\n\t\t\t\t\t\tpopup: false,\r\n\t\t\t\t\t\tlastDo: true,\r\n\t\t\t\t\t\tfilter: function (event, player) {\r\n\t\t\t\t\t\t\treturn (event.parent.dazijimrfzskill_buff == player && event.targets.length == event.parent.triggeredTargets4.length);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcontent: function () {\r\n\t\t\t\t\t\t\ttrigger.getParent().targets = trigger.getParent().targets.concat(trigger.targets);\r\n\t\t\t\t\t\t\ttrigger.getParent().triggeredTargets4 = trigger.getParent().triggeredTargets4.concat(trigger.targets);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsub: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tbaitiemrfzcardad: { audio: 'ext:whitherHelm/audio:4', },\r\n\t\t\tbaitiemrfzcard1_skill: {\r\n\t\t\t\ttrigger: { source: 'damageBegin3' },\r\n\t\t\t\tfilter: function (event, player) {\r\n\t\t\t\t\treturn event.num > 1 && event.player != player;\r\n\t\t\t\t},\r\n\t\t\t\tprompt: '是否令此伤害+1？',\r\n\t\t\t\tcontent: function () {\r\n\t\t\t\t\ttrigger.num++;\r\n\t\t\t\t\tplayer.logSkill('baitiemrfzcardad', trigger.player);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tbaitiemrfzcard2_skill: {\r\n\t\t\t\ttrigger: { player: 'phaseDiscardBefore' },\r\n\t\t\t\tforced: true,\r\n\t\t\t\tcontent: function () {\r\n\t\t\t\t\tvar next = player.phaseUse();\r\n\t\t\t\t\tevent.next.remove(next);\r\n\t\t\t\t\ttrigger.next.push(next);\r\n\t\t\t\t\tgame.log(player, '额外执行了一个出牌阶段');\r\n\t\t\t\t\tplayer.logSkill('baitiemrfzcardad');\r\n\t\t\t\t\tplayer.draw();\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tbaitiemrfzcard3_skill: {\r\n\t\t\t\tenable: 'phaseUse',\r\n\t\t\t\tfilter: function (event, player) {\r\n\t\t\t\t\treturn player.getCards('h', function (card) {\r\n\t\t\t\t\t\treturn get.tag(card, 'damage');\r\n\t\t\t\t\t}).length > player.countSkill('baitiemrfzcard3_skill');\r\n\t\t\t\t},\r\n\t\t\t\tfilterCard: function (card) {\r\n\t\t\t\t\treturn get.tag(card, 'damage');\r\n\t\t\t\t},\r\n\t\t\t\tselectCard: function () {\r\n\t\t\t\t\tvar player = _status.event.player;\r\n\t\t\t\t\treturn player.countSkill('baitiemrfzcard3_skill') + 1;\r\n\t\t\t\t},\r\n\t\t\t\tfilterTarget: function (card, player, target) {\r\n\t\t\t\t\treturn target != player && player.inRange(target);\r\n\t\t\t\t},\r\n\t\t\t\tposition: 'h',\r\n\t\t\t\tprompt: function () {\r\n\t\t\t\t\tvar player = _status.event.player;\r\n\t\t\t\t\treturn '你可以弃置' + (player.countSkill('baitiemrfzcard3_skill') + 1) + '张带有伤害类标签的牌并对攻击范围内的一名角色造成一点伤害';\r\n\t\t\t\t},\r\n\t\t\t\tcontent: function () {\r\n\t\t\t\t\ttarget.damage();\r\n\t\t\t\t\tplayer.logSkill('baitiemrfzcardad', target);\r\n\t\t\t\t},\r\n\t\t\t\tai: {\r\n\t\t\t\t\torder: 6,\r\n\t\t\t\t\tresult: {\r\n\t\t\t\t\t\ttarget: -1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t//DP27\r\n\t\t\tDP27mrfz_skill: {\r\n\t\t\t\tmod: {\r\n\t\t\t\t\tcardnature: function (card, player) {\r\n\t\t\t\t\t\tvar history = player.getHistory('useCard'), tmp_bool = false;\r\n\t\t\t\t\t\tfor (var i = 0; i < history.length; i++) {\r\n\t\t\t\t\t\t\tif (history[i].card.name == 'sha') {\r\n\t\t\t\t\t\t\t\ttmp_bool = true;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!card.nature && card.name == 'sha' && tmp_bool) return 'fire';\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\ttrigger: { player: 'useCard' },\r\n\t\t\t\tforced: true,\r\n\t\t\t\tfirstDo: true,\r\n\t\t\t\tfilter: function (event, player) {\r\n\t\t\t\t\tif (!event.card) return false;\r\n\t\t\t\t\treturn event.card.name == 'sha';\r\n\t\t\t\t},\r\n\t\t\t\tcontent: function () {\r\n\t\t\t\t\t'step 0'\r\n\t\t\t\t\tvar history = player.getHistory('useCard'), tmp_bool = false;\r\n\t\t\t\t\tfor (var i = 0; i < history.length; i++) {\r\n\t\t\t\t\t\tif (!history[i - 1]) continue;\r\n\t\t\t\t\t\tif (history[i - 1].card.name == 'sha') {\r\n\t\t\t\t\t\t\ttmp_bool = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (tmp_bool == false) event.goto(1);\r\n\t\t\t\t\telse if (!trigger.card.nature) {\r\n\t\t\t\t\t\ttrigger.card.nature = 'fire';\r\n\t\t\t\t\t}\r\n\t\t\t\t\t'step 1'\r\n\t\t\t\t\tif (game.hasNature(trigger.card)) {\r\n\t\t\t\t\t\tif (!trigger.baseDamage) trigger.baseDamage = 1;\r\n\t\t\t\t\t\ttrigger.baseDamage += 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tgroup: \"DP27mrfz_skill_wushi\",\r\n\t\t\t\tsubSkill: {\r\n\t\t\t\t\twushi: {\r\n\t\t\t\t\t\ttrigger: {\r\n\t\t\t\t\t\t\tplayer: \"useCardToPlayered\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfilter: function (event) {\r\n\t\t\t\t\t\t\treturn event.card && event.card.name == 'sha' && event.card.nature;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tforced: true,\r\n\t\t\t\t\t\tlogTarget: \"target\",\r\n\t\t\t\t\t\tcontent: function () {\r\n\t\t\t\t\t\t\ttrigger.target.addTempSkill('qinggang2');\r\n\t\t\t\t\t\t\ttrigger.target.storage.qinggang2.add(trigger.card);\r\n\t\t\t\t\t\t\ttrigger.target.markSkill('qinggang2');\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tai: {\r\n\t\t\t\t\t\t\t\"unequip_ai\": true,\r\n\t\t\t\t\t\t\tskillTagFilter: function (player, tag, arg) {\r\n\t\t\t\t\t\t\t\tif (arg && arg.name == 'sha' && game.hasNature(arg)) return true;\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t//沙地兽\r\n\t\t\tshadishoumrfz_skill: {\r\n\t\t\t\tenable: 'phaseUse',\r\n\t\t\t\tusable: 1,\r\n\t\t\t\tfilter: function (event, player) {\r\n\t\t\t\t\treturn player.countCards('h') > 0;\r\n\t\t\t\t},\r\n\t\t\t\tfilterCard: true,\r\n\t\t\t\tselectCard: 1,\r\n\t\t\t\tprompt:'是否发动【沙地兽】？',\r\n\t\t\t\tprompt2:'出牌阶段限一次，你可以弃置一张手牌，然后弃置【沙地兽】',\r\n\t\t\t\tcheck(card){\r\n\t\t\t\t\treturn 8 - get.value(card);\r\n\t\t\t\t},\r\n\t\t\t\tasync content(event, trigger, player) {\r\n\t\t\t\t\tvar equip = player.getCards('e', function (card) {\r\n\t\t\t\t\t\treturn card.name == 'shadishoumrfz';\r\n\t\t\t\t\t});\r\n\t\t\t\t\tplayer.discard(equip);\r\n\t\t\t\t},\r\n\t\t\t\tai: {\r\n\t\t\t\t\torder: 1,\r\n\t\t\t\t\tresult: {\r\n\t\t\t\t\t\tplayer: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\r\n\t\t\t//剑助\r\n\t\t\tjianzhumrfz_skill:{\r\n\t\t\t\ttrigger: {\r\n\t\t\t\t\tplayer: [\"yingbian\",\"damageEnd\"],\r\n\t\t\t\t},\r\n\t\t\t\tequipSkill: true,\r\n\t\t\t\tforced: true,\r\n\t\t\t\tfirstDo: true,\r\n\t\t\t\tfilter(event, player){\r\n\t\t\t\t\tif(event.name=='damage') return true;\r\n\t\t\t\t\treturn player.hasHistory(\"lose\", evt => {\r\n\t\t\t\t\t\treturn evt.getParent() == event && Object.values(evt.gaintag_map).some(value => value.join(\" \").includes(\"shimomrfz_\"));\r\n\t\t\t\t\t})||get.is.yingbianConditional(event.card);\r\n\t\t\t\t},\r\n\t\t\t\tcontent: () => {\r\n\t\t\t\t\tif(trigger.name=='damage'){\r\n\t\t\t\t\t\tconst equip = player.getCards('e', function (card) {\r\n\t\t\t\t\t\t\treturn card.name == 'jianzhumrfz';\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tplayer.discard(equip);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttrigger.forceYingbian = true;\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\ttranslate: {\r\n\t\t\tdazijimrfz: \"打字机\",\r\n\t\t\t\"dazijimrfz_info\": \"当你使用【杀】指定目标时，你可以令此【杀】结算两次。（此装备离开你的装备区时，销毁之）\",\r\n\t\t\tbaitiemrfzcardad: '支援装备',\r\n\t\t\tbaitiemrfzcard1: \"攻击型平台\",\r\n\t\t\tbaitiemrfzcard1_skill: '援备',\r\n\t\t\t'baitiemrfzcard1_info': '当你造成至少两点伤害时，你可以令此伤害+1。',\r\n\t\t\tbaitiemrfzcard2: \"支援型平台\",\r\n\t\t\tbaitiemrfzcard2_skill: '援备',\r\n\t\t\t'baitiemrfzcard2_info': '锁定技，弃牌阶段开始时，你摸一张牌并额外执行一个出牌阶段。',\r\n\t\t\tbaitiemrfzcard3: \"铁钳号\",\r\n\t\t\tbaitiemrfzcard3_skill: \"援备\",\r\n\t\t\t'baitiemrfzcard3_info': '出牌阶段你可以弃置X张带有伤害类标签的牌，然后选择一名你攻击范围内的其他角色，对其造成一点伤害（X=此技能本回合使用数+1）。',\r\n\t\t\tDP27mrfz: 'DP27',\r\n\t\t\tDP27mrfz_skill: 'DP27',\r\n\t\t\t\"DP27mrfz_info\": '①锁定技，若你于本回合使用过【杀】，则你的非属性【杀】均视为火【杀】。②锁定技，你的属性杀无视防具且伤害基数+1。',\r\n\t\t\tshadishoumrfz: '沙地兽',\r\n\t\t\tshadishoumrfz_skill: '沙地兽',\r\n\t\t\t'shadishoumrfz_info': '①锁定技，当此牌不因交换装备或移动离开你的装备区时，销毁之。②出牌阶段限一次，你可以弃置一张手牌并弃置此牌。',\r\n\t\t\tsjzx_zhuihuomrfz: '天坠之火',\r\n\t\t\t'sjzx_zhuihuomrfz_info': '因【坠火】而置入判定区的牌可重复存在。判定阶段开始时，你须选择弃置两张牌或受到一点火焰伤害，然后将此牌置入弃牌堆。',\r\n\t\t\tjingtouE1mrfz: '镜头',\r\n\t\t\tjingtouE2mrfz: '镜头',\r\n\t\t\tjingtouE3mrfz: '镜头',\r\n\t\t\tjingtouE4mrfz: '镜头',\r\n\t\t\tjingtouE5mrfz: '镜头',\r\n\t\t\tjingtoumrfz_skill: '镜头',\r\n\t\t\t'jingtouE1mrfz_info': '锁定技，你的手牌始终明置；你始终视为在其他角色的攻击范围内；此牌离开你的装备区时，销毁之。',\r\n\t\t\t'jingtouE2mrfz_info': '锁定技，你的手牌始终明置；你始终视为在其他角色的攻击范围内；此牌离开你的装备区时，销毁之。',\r\n\t\t\t'jingtouE3mrfz_info': '锁定技，你的手牌始终明置；你始终视为在其他角色的攻击范围内；此牌离开你的装备区时，销毁之。',\r\n\t\t\t'jingtouE4mrfz_info': '锁定技，你的手牌始终明置；你始终视为在其他角色的攻击范围内；此牌离开你的装备区时，销毁之。',\r\n\t\t\t'jingtouE5mrfz_info': '锁定技，你的手牌始终明置；你始终视为在其他角色的攻击范围内；此牌离开你的装备区时，销毁之。',\r\n\t\t\tvisible_jingtoumrfz: '明置',\r\n\t\t\tjianzhumrfz:\"剑助\",\r\n\t\t\tjianzhumrfz_skill:\"剑助\",\r\n\t\t\t\"jianzhumrfz_info\":\"锁定技，使用带有应变效果的牌可无视条件直接生效；当你受到伤害后或此牌离开了你的装备区时，你将【剑助】销毁之。\",\r\n\t\t\tksl_lulitongxinmrfz:\"勠力同心\",\r\n\t\t\t\"ksl_lulitongxinmrfz_info\":\"出牌阶段：<br>①你可以令X名没有被横置的角色横置，然后所有被横置的角色将手牌补至4张并明置所有手牌。（X=场上势力数）<br>②你可以令所有被横置的角色解除横置状态、弃置一张手牌，并暗置所有手牌。\",\r\n\t\t\tcuoe_huanyoumrfzCard:\"幻有\",\r\n\t\t\t\"cuoe_huanyoumrfzCard_info\":\"如真似幻，扑朔迷离。\",\r\n\t\t}, list: [],\r\n\t};\r\n\tlib.translate['mrfzcard_card_config'] = '驶舰之向';\r\n\t// lib.config.all.cards.push('mrfzcard');\r\n\tif (!lib.config.cards.includes('mrfzcard')) lib.config.cards.push('mrfzcard');\r\n\treturn mrfzcard;\r\n});\r\n"],"names":["game","event","trigger","player","card","target"],"mappings":";AAEA,MAAM,OAAO;AAAA,EACZ,MAAM;AAAA,EACN,MAAO;AACR;AAEA,KAAK,OAAO,QAAQ,SAAU,KAAKA,OAAM,IAAI,KAAK,IAAI,SAAS;AAC9D,MAAI,WAAW;AAAA,IACd,MAAM;AAAA,IACN,SAAS;AAAA,IACT,MAAM;AAAA;AAAA,MAEL,sBAAqB;AAAA,QACpB,OAAO,GAAG,KAAK,IAAI;AAAA,QACnB,OAAM;AAAA,QACN,MAAK;AAAA,QACL,QAAO;AAAA,QACP,UAAU;AAAA,QACV,SAAS;AAAA,QACT,QAAO;AAAA,QACP,MAAM,QAAQC,QAAMC,UAAQC,SAAQ;AACnC,gBAAM,WAAWF,OAAM,MAAM,CAAC;AAC9B,cAAG,IAAI,SAAS,QAAQ,MAAM,UAAQE,QAAO,aAAa,QAAQ,GAAE;AACnE,kBAAMA,QAAO,gBAAgB,QAAQ,EAAE,IAAI,wBAAuB,IAAI;AAAA,UACvE,OAAM;AACL,YAAAF,OAAM,KAAK,YAAY;AAAA,UACxB;AAAA,QACD;AAAA,QACA,IAAG;AAAA,UACF,QAAO;AAAA,YACN,QAAO;AAAA,YACP,QAAO;AAAA,UACb;AAAA,UACK,OAAO;AAAA,YACN,OAAO;AAAA,YACP,QAAQ;AAAA,YACR,OAAO;AAAA,UACb;AAAA,QACA;AAAA,MACA;AAAA;AAAA,MAGG,qBAAoB;AAAA,QACnB,OAAO,GAAG,KAAK,IAAI;AAAA,QACnB,OAAO;AAAA,QACP,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,MAAM,QAAQA,QAAMC,UAAQC,SAAQ;AACnC,cAAI,OAAO,CAAC,MAAM;AAClB,cAAGH,MAAK,UAAU,OAAG,EAAE,UAAU,EAAG,MAAK,KAAK,MAAM;AACpD,gBAAM,UAAU,KAAK,WAAS,IAAG,KAAK,CAAC,IACtC,MAAMG,QAAO,cAAc,IAAI,EAC9B,IAAI,UAAU,OAAO,EACrB,IAAI,MAAK,MAAI;AACC,gBAAI,MAAK,EAAG;AACzB,gBAAI,QAAQH,MAAK,aAAa,OAAG,EAAE,SAAQ,CAAE;AAC7C,gBAAI,WAAW;AACf,gBAAI,aAAa;AACjB,qBAAQ,QAAQA,MAAK,QAAQ,OAAO,OAAG,MAAM,SAAS,CAAC,CAAC,GAAE;AACzD,kBAAG,KAAK,WAAW,GAAG,IAAE,EAAG;AAC3B,0BAAY,IAAI,UAAU,IAAI,IAAE,IAAE,IAAE,MAAM,IAAI,KAAK,WAAW,GAAG;AAAA,YAClE;AACA,qBAAQ,QAAQ,OAAM;AACrB,kBAAG,IAAI,UAAU,IAAI,IAAE,GAAE;AACxB,8BAAY;AACZ;AAAA,cACD;AACA,4BAAc,KAAK,WAAW,GAAG,IAAE,IAAE,IAAE;AAAA,YACxC;AACA,mBAAO,WAAS,aAAW,SAAO;AAAA,UACnC,CAAC,EACA;AACH,cAAG,CAAC,QAAS;AACb,cAAG,YAAU,QAAO;AACnB,kBAAM,UAAU,MAAMG,QAAO,aAAa,CAAC,GAAEH,MAAK,WAAU,CAAE,GAAE,MAAK,QAAQA,MAAK,WAAU,CAAE,KAAK,EACjG,IAAI,gBAAe,CAACI,OAAKC,SAAOF,YAAS;AACzC,qBAAO,CAACE,QAAO;YAChB,CAAC,EACA,IAAI,MAAK,CAAAA,YAAQ,IAAI,UAAUA,OAAM,IAAE,KAAGA,QAAO,WAAW,GAAG,IAAE,CAAC,EAC/D,UAAU,SAAS;AACxB,gBAAG,CAAC,QAAS;AACb,qBAAQA,WAAUL,MAAK,SAAQ;AAC9B,kBAAG,QAAQ,SAASK,OAAM,GAAG;AAC5B,gBAAAA,QAAO,KAAI;AACX,sBAAMA,QAAO,OAAO,CAAC;AAAA,cACtB;AACA,kBAAG,CAACA,QAAO,SAAQ,EAAI;AACvB,kBAAI,KAAKA,QAAO,SAAS,KAAK,CAAAD,UAAQ,CAAC,IAAI,GAAG,UAAUA,KAAI,CAAC;AAC7D,kBAAG,GAAG,OAAQ,CAAAC,QAAO,cAAc,IAAI,kBAAkB;AAAA,YAC1D;AAAA,UACD,OAAO;AACN,qBAAQA,WAAUL,MAAK,aAAa,OAAG,EAAE,SAAQ,CAAE,GAAE;AACpD,oBAAMK,QAAO,KAAK,KAAK;AACvB,kBAAI,KAAKA,QAAO,SAAS,KAAK,CAAAD,UAAQ,IAAI,GAAG,UAAUA,KAAI,CAAC;AAC5D,kBAAG,GAAG,OAAQ,CAAAC,QAAO,eAAe,EAAE;AACtC,kBAAGA,QAAO,QAAO,EAAI,CAAAA,QAAO,gBAAgB,MAAK,SAAS;AAAA,YAC3D;AAAA,UACD;AAAA,QACD;AAAA,QACA,IAAI;AAAA,UACH,OAAO,CAACA,SAAQD,OAAMD,SAAQ,QAAQ,WAAW;AAChD,gBACC,SAAS,IAAI,SAAS,QAAQA,QAAO,WAAWA,OAAM,IAAI,KAC1D,IAAI,SAAS,QAAQA,OAAM,IAAI;AAE/B,qBAAO;AAAA,UACT;AAAA,UACA,OAAO;AAAA,YACN,OAAO;AAAA,YACP,QAAQ;AAAA,YACR,OAAO;AAAA,UACb;AAAA,UACK,QAAQ;AAAA,YACP,QAAQ,CAACA,SAAQE,YAAW;AAC3B,kBAAIF,QAAO,aAAc,QAAO;AAChC,qBAAO;AAAA,YACR;AAAA,UACN;AAAA,UACK,KAAK;AAAA,YACJ,aAAa;AAAA,YACb,UAAU;AAAA,YACV,UAAU;AAAA,UAChB;AAAA,QACA;AAAA,MACA;AAAA;AAAA,MAGG,aAAY;AAAA,QACX,OAAO,GAAG,KAAK,IAAI;AAAA,QACnB,MAAM;AAAA,QACN,SAAS;AAAA,QACT,SAAS;AAAA,QACT,YAAY;AAAA,QACZ,UAAU;AAAA,UACT,YAAY;AAAA,QACjB;AAAA,QACI,QAAQ,CAAC,mBAAmB;AAAA,QAC5B,IAAI;AAAA,UACH,OAAO;AAAA,YACN,YAAY;AAAA,YACZ,OAAO,CAACC,OAAMD,SAAQ,OAAO,WAAW;AACvC,kBAAI,CAACA,QAAO,SAAS,GAAG,EAAE,SAASC,KAAI,KAAK,CAACD,QAAO,SAASC,OAAM,IAAI,EAAG,QAAO;AACjF,oBAAM,OAAO,IAAI,KAAKA,KAAI,GACzB,UAAUD,QAAO,SAAS,KAAK,OAAO,GACtC,QAAQ,WAAWC,SAAQ,WAAW,IAAI,MAAM,SAASD,OAAM;AAChE,kBAAI,aAAa,KAAK,GAAG,cAAc,KAAK,GAAG,MAAM;AACrD,kBAAI,OAAO,cAAc,YAAY;AACpC,oBAAI,UAAU,MAAO,QAAO,WAAWC,OAAMD,OAAM;AACnD,oBAAI,UAAU,OAAQ,QAAO,WAAWC,OAAMD,OAAM,IAAI;AACxD,uBAAO,KAAK,IAAI,KAAK,WAAWC,OAAMD,OAAM,IAAI,KAAK;AAAA,cACtD;AACA,kBAAI,OAAO,cAAc,SAAU,cAAa;AAChD,kBAAI,UAAU,MAAO,QAAO;AAC5B,kBAAI,UAAU,OAAQ,QAAO,aAAa;AAC1C,qBAAO,KAAK,IAAI,KAAK,aAAa,KAAK;AAAA,YACxC;AAAA,UACN;AAAA,QACA;AAAA,QACI,QAAQ;AAAA,QACR,cAAc;AAAA,QACd,cAAc,CAACC,OAAMD,SAAQE,YAAWF,WAAUE,WAAUA,QAAO,SAASD,OAAM,IAAI;AAAA,QACtF,WAAW;AAAA,QACX,eAAe;AAAA,QACf,QAAQ,WAAY;AACnB,eAAK,CAAC,MAAM,UAAU,CAAC,KAAK,MAAM,UAAU,CAAC,EAAE,QAAQ,iBAAiB,MAAM,UAAS,EAAG,QAAQ,WAAW,MAAM,YAAY,YAAY;AAC1I,iBAAK,YAAY;AACjB,YAAAJ,MAAK,IAAI,MAAM,MAAM;AAAA,UACtB;AAAA,QACD;AAAA,QACA,SAAS,WAAY;AACpB,cACC,CAAC,MAAM,MAAM,KAAK,CAAAI,UAAQ;AACzB,mBAAO,IAAI,SAASA,OAAM,IAAI,MAAM;AAAA,UACrC,CAAC,GACA;AACD,mBAAO,MAAM,IAAI;AAAA,UAClB;AAAA,QACD;AAAA,QACA,QAAQ;AAAA,MACZ;AAAA;AAAA,MAEG,eAAe;AAAA,QACd,OAAO,GAAG,KAAK,IAAI;AAAA,QACnB,MAAM;AAAA,QACN,SAAS;AAAA,QACT,UAAU;AAAA,UACT,YAAY;AAAA,QACjB;AAAA,QACI,QAAQ,WAAY;AACnB,eAAK,CAAC,MAAM,UAAU,CAAC,KAAK,MAAM,UAAU,CAAC,EAAE,QAAQ,iBAAiB,MAAM,UAAS,EAAG,QAAQ,WAAW,MAAM,YAAY,YAAY;AAC1I,kBAAM,QAAQ,CAAAA,UAAQ;AACrB,cAAAA,MAAK,IAAG;AACR,cAAAA,MAAK,OAAM;AACX,cAAAA,MAAK,YAAY;AACjB,cAAAJ,MAAK,IAAII,OAAM,MAAM;AAAA,YACtB,CAAC;AAAA,UACF;AACA,cAAID,UAAS,QAAQ,MAAM,QAC1B,KAAKA,QAAO,SAAS,KAAK,CAAAC,UAAQ,IAAI,GAAG,UAAUA,KAAI,CAAC;AACzD,cAAI,GAAG,SAAS,EAAG,CAAAD,QAAO,eAAe,EAAE;AAAA,QAC5C;AAAA,QACA,YAAY;AAAA,QACZ,WAAW;AAAA,QACX,QAAQ,CAAC,mBAAmB;AAAA,QAC5B,IAAI;AAAA,UACH,OAAO;AAAA,YACN,YAAY;AAAA,UAClB;AAAA,UACK,QAAQ;AAAA,YACP,QAAQ,CAACA,SAAQE,SAAQD,UAAS,IAAI,YAAYD,SAAQE,SAAQD,MAAK,IAAI;AAAA,UACjF;AAAA,QACA;AAAA,QACI,QAAQ;AAAA,QACR,cAAc;AAAA,QACd,cAAc,CAACA,OAAMD,SAAQE,YAAWF,WAAUE,WAAUA,QAAO,SAASD,OAAM,IAAI;AAAA,QACtF,WAAW;AAAA,QACX,eAAe;AAAA,QACf,SAAS,WAAY;AACpB,cAAI,MAAM,UAAU,IAAI,SAAS,MAAM,CAAC,GAAG,IAAI,KAAK,IAAK,QAAO,MAAM,MAAM,CAAC,CAAC;AAAA,QAC/E;AAAA,QACA,QAAQ;AAAA,MACZ;AAAA,MAEG,eAAe;AAAA,QACd,OAAO,GAAG,KAAK,IAAI;AAAA,QACnB,MAAM;AAAA,QACN,SAAS;AAAA,QACT,QAAQ,WAAY;AACnB,eAAK,CAAC,MAAM,UAAU,CAAC,KAAK,MAAM,UAAU,CAAC,EAAE,QAAQ,iBAAiB,MAAM,UAAS,EAAG,QAAQ,WAAW,MAAM,YAAY,YAAY;AAC1I,kBAAM,QAAQ,CAAAA,UAAQ;AACrB,cAAAA,MAAK,IAAG;AACR,cAAAA,MAAK,OAAM;AACX,cAAAA,MAAK,YAAY;AACjB,cAAAJ,MAAK,IAAII,OAAM,MAAM;AAAA,YACtB,CAAC;AAAA,UACF;AACA,cAAID,UAAS,QAAQ,MAAM,QAC1B,KAAKA,QAAO,SAAS,KAAK,CAAAC,UAAQ,IAAI,GAAG,UAAUA,KAAI,CAAC;AACzD,cAAI,GAAG,SAAS,EAAG,CAAAD,QAAO,eAAe,EAAE;AAAA,QAC5C;AAAA,QACA,YAAY;AAAA,QACZ,WAAW;AAAA,QACX,QAAQ,CAAC,mBAAmB;AAAA,QAC5B,IAAI;AAAA,UACH,OAAO;AAAA,YACN,YAAY;AAAA,UAClB;AAAA,UACK,QAAQ;AAAA,YACP,QAAQ,CAACA,SAAQE,SAAQD,UAAS,IAAI,YAAYD,SAAQE,SAAQD,MAAK,IAAI;AAAA,UACjF;AAAA,QACA;AAAA,QACI,QAAQ;AAAA,QACR,cAAc;AAAA,QACd,cAAc,CAACA,OAAMD,SAAQE,YAAWF,WAAUE,WAAUA,QAAO,SAASD,OAAM,IAAI;AAAA,QACtF,WAAW;AAAA,QACX,eAAe;AAAA,QACf,SAAS,WAAY;AACpB,cAAI,MAAM,UAAU,IAAI,SAAS,MAAM,CAAC,GAAG,IAAI,KAAK,IAAK,QAAO,MAAM,MAAM,CAAC,CAAC;AAAA,QAC/E;AAAA,QACA,QAAQ;AAAA,MACZ;AAAA,MAEG,eAAe;AAAA,QACd,OAAO,GAAG,KAAK,IAAI;AAAA,QACnB,MAAM;AAAA,QACN,SAAS;AAAA,QACT,UAAU;AAAA,UACT,UAAU;AAAA,QACf;AAAA,QACI,QAAQ,WAAY;AACnB,eAAK,CAAC,MAAM,UAAU,CAAC,KAAK,MAAM,UAAU,CAAC,EAAE,QAAQ,iBAAiB,MAAM,UAAS,EAAG,QAAQ,WAAW,MAAM,YAAY,YAAY;AAC1I,kBAAM,QAAQ,CAAAA,UAAQ;AACrB,cAAAA,MAAK,IAAG;AACR,cAAAA,MAAK,OAAM;AACX,cAAAA,MAAK,YAAY;AACjB,cAAAJ,MAAK,IAAII,OAAM,MAAM;AAAA,YACtB,CAAC;AAAA,UACF;AACA,cAAID,UAAS,QAAQ,MAAM,QAC1B,KAAKA,QAAO,SAAS,KAAK,CAAAC,UAAQ,IAAI,GAAG,UAAUA,KAAI,CAAC;AACzD,cAAI,GAAG,SAAS,EAAG,CAAAD,QAAO,eAAe,EAAE;AAAA,QAC5C;AAAA,QACA,YAAY;AAAA,QACZ,WAAW;AAAA,QACX,QAAQ,CAAC,mBAAmB;AAAA,QAC5B,IAAI;AAAA,UACH,OAAO;AAAA,YACN,YAAY;AAAA,UAClB;AAAA,UACK,QAAQ;AAAA,YACP,QAAQ,CAACA,SAAQE,SAAQD,UAAS,IAAI,YAAYD,SAAQE,SAAQD,MAAK,IAAI;AAAA,UACjF;AAAA,QACA;AAAA,QACI,QAAQ;AAAA,QACR,cAAc;AAAA,QACd,cAAc,CAACA,OAAMD,SAAQE,YAAWF,WAAUE,WAAUA,QAAO,SAASD,OAAM,IAAI;AAAA,QACtF,WAAW;AAAA,QACX,eAAe;AAAA,QACf,SAAS,WAAY;AACpB,cAAI,MAAM,UAAU,IAAI,SAAS,MAAM,CAAC,GAAG,IAAI,KAAK,IAAK,QAAO,MAAM,MAAM,CAAC,CAAC;AAAA,QAC/E;AAAA,QACA,QAAQ;AAAA,MACZ;AAAA,MAEG,eAAe;AAAA,QACd,OAAO,GAAG,KAAK,IAAI;AAAA,QACnB,MAAM;AAAA,QACN,SAAS;AAAA,QACT,UAAU;AAAA,UACT,YAAY;AAAA,QACjB;AAAA,QACI,QAAQ,WAAY;AACnB,eAAK,CAAC,MAAM,UAAU,CAAC,KAAK,MAAM,UAAU,CAAC,EAAE,QAAQ,iBAAiB,MAAM,UAAS,EAAG,QAAQ,WAAW,MAAM,YAAY,YAAY;AAC1I,kBAAM,QAAQ,CAAAA,UAAQ;AACrB,cAAAA,MAAK,IAAG;AACR,cAAAA,MAAK,OAAM;AACX,cAAAA,MAAK,YAAY;AACjB,cAAAJ,MAAK,IAAII,OAAM,MAAM;AAAA,YACtB,CAAC;AAAA,UACF;AACA,cAAID,UAAS,QAAQ,MAAM,QAC1B,KAAKA,QAAO,SAAS,KAAK,CAAAC,UAAQ,IAAI,GAAG,UAAUA,KAAI,CAAC;AACzD,cAAI,GAAG,SAAS,EAAG,CAAAD,QAAO,eAAe,EAAE;AAAA,QAC5C;AAAA,QACA,YAAY;AAAA,QACZ,WAAW;AAAA,QACX,QAAQ,CAAC,mBAAmB;AAAA,QAC5B,IAAI;AAAA,UACH,OAAO;AAAA,YACN,YAAY;AAAA,UAClB;AAAA,UACK,QAAQ;AAAA,YACP,QAAQ,CAACA,SAAQE,SAAQD,UAAS,IAAI,YAAYD,SAAQE,SAAQD,MAAK,IAAI;AAAA,UACjF;AAAA,QACA;AAAA,QACI,QAAQ;AAAA,QACR,cAAc;AAAA,QACd,cAAc,CAACA,OAAMD,SAAQE,YAAWF,WAAUE,WAAUA,QAAO,SAASD,OAAM,IAAI;AAAA,QACtF,WAAW;AAAA,QACX,eAAe;AAAA,QACf,SAAS,WAAY;AACpB,cAAI,MAAM,UAAU,IAAI,SAAS,MAAM,CAAC,GAAG,IAAI,KAAK,IAAK,QAAO,MAAM,MAAM,CAAC,CAAC;AAAA,QAC/E;AAAA,QACA,QAAQ;AAAA,MACZ;AAAA,MAEG,eAAe;AAAA,QACd,OAAO,GAAG,KAAK,IAAI;AAAA,QACnB,MAAM;AAAA,QACN,SAAS;AAAA,QACT,QAAQ,WAAY;AACnB,eAAK,CAAC,MAAM,UAAU,CAAC,KAAK,MAAM,UAAU,CAAC,EAAE,QAAQ,iBAAiB,MAAM,UAAS,EAAG,QAAQ,WAAW,MAAM,YAAY,YAAY;AAC1I,kBAAM,QAAQ,CAAAA,UAAQ;AACrB,cAAAA,MAAK,IAAG;AACR,cAAAA,MAAK,OAAM;AACX,cAAAA,MAAK,YAAY;AACjB,cAAAJ,MAAK,IAAII,OAAM,MAAM;AAAA,YACtB,CAAC;AAAA,UACF;AACA,cAAID,UAAS,QAAQ,MAAM,QAC1B,KAAKA,QAAO,SAAS,KAAK,CAAAC,UAAQ,IAAI,GAAG,UAAUA,KAAI,CAAC;AACzD,cAAI,GAAG,SAAS,EAAG,CAAAD,QAAO,eAAe,EAAE;AAAA,QAC5C;AAAA,QACA,YAAY;AAAA,QACZ,WAAW;AAAA,QACX,QAAQ,CAAC,mBAAmB;AAAA,QAC5B,IAAI;AAAA,UACH,OAAO;AAAA,YACN,YAAY;AAAA,UAClB;AAAA,UACK,QAAQ;AAAA,YACP,QAAQ,CAACA,SAAQE,SAAQD,UAAS,IAAI,YAAYD,SAAQE,SAAQD,MAAK,IAAI;AAAA,UACjF;AAAA,QACA;AAAA,QACI,QAAQ;AAAA,QACR,cAAc;AAAA,QACd,cAAc,CAACA,OAAMD,SAAQE,YAAWF,WAAUE,WAAUA,QAAO,SAASD,OAAM,IAAI;AAAA,QACtF,WAAW;AAAA,QACX,eAAe;AAAA,QACf,SAAS,WAAY;AACpB,cAAI,MAAM,UAAU,IAAI,SAAS,MAAM,CAAC,GAAG,IAAI,KAAK,IAAK,QAAO,MAAM,MAAM,CAAC,CAAC;AAAA,QAC/E;AAAA,QACA,QAAQ;AAAA,MACZ;AAAA;AAAA,MAGG,kBAAkB;AAAA,QACjB,OAAO,GAAG,KAAK,IAAI;AAAA,QACnB,MAAM;AAAA,QACN,gBAAgB;AAAA,QAChB,WAAW;AAAA,QACX,WAAW;AAAA,QACX,WAAW;AAAA,QACX,QAAQ,WAAY;AACnB;AACA,cAAIA,QAAO,IAAI,WAAW,MAAM,MAAM,CAAC,CAAC;AACxC,UAAAA,MAAK,QAAQ,mBAAmB;AAChC,cAAI,OAAO,WAAW,IAAI,IAAI,EAAG,QAAO,gBAAgB,GAAG,MAAM,6BAA6B,EAC5F,IAAI,MAAM,SAAUA,OAAM;AAC1B,gBAAID,UAAS,QAAQ,MAAM;AAC3B,gBAAIA,QAAO,KAAK,KAAKA,QAAO,WAAW,MAAM,CAAAC,UAAQ;AAAE,qBAAOA,MAAK,QAAQ,SAASA,MAAK,QAAQ;AAAA,YAAM,CAAC,IAAI,EAAG,QAAO;AACtH,mBAAO,IAAI,IAAI,MAAMA,KAAI;AAAA,UAC1B,CAAC;AAAA,eACG;AACJ,mBAAO,OAAO,QAAQ,UAAU;AAChC,mBAAO,kBAAkB,MAAM,MAAM,CAAC,CAAC;AACvC,kBAAM,OAAM;AAAA,UACb;AAEA,cAAI,OAAO,MAAM;AAEhB,mBAAO,kBAAkB,MAAM,MAAM,CAAC,CAAC;AAAA,UACxC,OACK;AACJ,mBAAO,OAAO,QAAQ,UAAU;AAChC,mBAAO,kBAAkB,MAAM,MAAM,CAAC,CAAC;AAAA,UACxC;AAAA,QACD;AAAA,MACJ;AAAA;AAAA,MAEG,eAAe;AAAA,QACd,OAAO,GAAG,KAAK,IAAI;AAAA,QACnB,MAAM;AAAA,QACN,SAAS;AAAA,QACT,QAAQ,WAAY;AACnB,eAAK,CAAC,MAAM,UAAU,CAAC,KAAK,MAAM,UAAU,CAAC,EAAE,QAAQ,iBAAiB,MAAM,UAAS,EAAG,QAAQ,WAAW,MAAM,YAAY,YAAY;AAC1I,kBAAM,QAAQ,CAAAA,UAAQ;AACrB,cAAAA,MAAK,IAAG;AACR,cAAAA,MAAK,OAAM;AACX,cAAAA,MAAK,YAAY;AACjB,cAAAJ,MAAK,IAAII,OAAM,MAAM;AAAA,YACtB,CAAC;AAAA,UACF;AAAA,QACD;AAAA,QACA,YAAY;AAAA,QACZ,WAAW;AAAA,QACX,QAAQ,CAAC,qBAAqB;AAAA,QAC9B,IAAI;AAAA,UACH,OAAO;AAAA,YACN,YAAY;AAAA,UAClB;AAAA,UACK,QAAQ;AAAA,YACP,QAAQ,CAACD,SAAQE,SAAQD,UAAS,IAAI,YAAYD,SAAQE,SAAQD,MAAK,IAAI;AAAA,UACjF;AAAA,QACA;AAAA,QACI,QAAQ;AAAA,QACR,cAAc;AAAA,QACd,cAAc,CAACA,OAAMD,SAAQE,YAAWF,WAAUE,WAAUA,QAAO,SAASD,OAAM,IAAI;AAAA,QACtF,WAAW;AAAA,QACX,eAAe;AAAA,QACf,SAAS,WAAY;AACpB,cAAI,MAAM,UAAU,IAAI,SAAS,MAAM,CAAC,GAAG,IAAI,KAAK,IAAK,QAAO,MAAM,MAAM,CAAC,CAAC;AAAA,QAC/E;AAAA,QACA,QAAQ;AAAA,MACZ;AAAA;AAAA,MAEG,UAAU;AAAA,QACT,OAAO,GAAG,KAAK,IAAI;AAAA,QACnB,MAAM;AAAA,QACN,SAAS;AAAA,QACT,SAAS;AAAA,QACT,YAAY;AAAA,QACZ,UAAU;AAAA,UACT,YAAY;AAAA,QACjB;AAAA,QACI,QAAQ,CAAC,gBAAgB;AAAA,QACzB,IAAI;AAAA,UACH,OAAO;AAAA,YACN,YAAY;AAAA,UAClB;AAAA,QACA;AAAA,MACA;AAAA;AAAA,MAEG,YAAY;AAAA,QACX,OAAO,GAAG,KAAK,IAAI;AAAA,QACnB,MAAM;AAAA,QACN,SAAS;AAAA,QACT,SAAS;AAAA,QACT,YAAY;AAAA,QACZ,UAAU;AAAA,UACT,YAAY;AAAA,QACjB;AAAA,QACI,IAAI;AAAA,UACH,OAAO;AAAA,YACN,YAAY;AAAA,YACZ,OAAO,SAAUA,OAAMD,SAAQ;AAC9B,kBAAIA,WAAUA,QAAO,YAAY,cAAc,GAAG;AACjD,uBAAO,MAAM,IAAI,WAAWC,OAAMD,OAAM,IAAI;AAAA,cAC7C,OACK;AACJ,uBAAO,IAAI,IAAI,WAAWC,OAAMD,OAAM,IAAI;AAAA,cAC3C;AAAA,YACD;AAAA,YACA,QAAQ;AAAA,YACR,OAAO,SAAUC,OAAMD,SAAQ,OAAO,QAAQ;AAC7C,kBAAIA,QAAO,WAAW,IAAI,QAAQC,KAAI,CAAC,EAAG,QAAO;AACjD,kBAAI,QAAQ;AACZ,kBAAI,OAAO,IAAI,KAAKA,KAAI;AACxB,kBAAI,UAAUD,QAAO,SAAS,KAAK,OAAO;AAC1C,kBAAI,WAAWC,SAAQ,SAAS;AAC/B,wBAAQ,IAAI,MAAM,SAASD,OAAM;AAAA,cAClC;AACA,kBAAI,aAAa,KAAK,GAAG;AACzB,kBAAI,cAAc,QAAW;AAC5B,6BAAa,KAAK,GAAG,MAAM;AAAA,cAC5B;AACA,kBAAI,OAAO,cAAc,YAAY;AACpC,oBAAI,UAAU,MAAO,QAAO,WAAWC,OAAMD,OAAM;AACnD,oBAAI,UAAU,OAAQ,QAAO,WAAWC,OAAMD,OAAM,IAAI;AACxD,uBAAO,KAAK,IAAI,KAAK,WAAWC,OAAMD,OAAM,IAAI,KAAK;AAAA,cACtD;AACA,kBAAI,OAAO,cAAc,SAAU,cAAa;AAChD,kBAAI,UAAU,MAAO,QAAO;AAC5B,kBAAI,UAAU,OAAQ,QAAO,aAAa;AAC1C,qBAAO,KAAK,IAAI,KAAK,aAAa,KAAK;AAAA,YACxC;AAAA,UACN;AAAA,UACK,QAAQ;AAAA,YACP,QAAQ,SAAUA,SAAQE,SAAQD,OAAM;AACvC,qBAAO,IAAI,YAAYD,SAAQE,SAAQD,MAAK,IAAI;AAAA,YACjD;AAAA,UACN;AAAA,QACA;AAAA,QACI,QAAQ,CAAC,iBAAiB;AAAA,QAC1B,QAAQ;AAAA,QACR,cAAc;AAAA,QACd,cAAc,SAAUA,OAAMD,SAAQE,SAAQ;AAC7C,iBAAOA,WAAUF;AAAA,QAClB;AAAA,QACA,WAAW;AAAA,QACX,eAAe;AAAA,QACf,SAAS,WAAY;AACpB,cAAI,MAAM,UAAU,IAAI,SAAS,MAAM,CAAC,GAAG,IAAI,KAAK,IAAK,QAAO,MAAM,MAAM,CAAC,CAAC;AAAA,QAC/E;AAAA,QACA,QAAQ;AAAA,QACR,WAAW;AAAA,MACf;AAAA;AAAA,MAEG,iBAAiB;AAAA,QAChB,OAAO,GAAG,KAAK,IAAI;AAAA,QACnB,MAAM;AAAA,QACN,SAAS;AAAA,QACT,QAAQ,CAAC,uBAAuB;AAAA,QAChC,IAAI;AAAA,UACH,OAAO;AAAA,YACN,YAAY;AAAA,UAClB;AAAA,QACA;AAAA,MACA;AAAA,MACG,iBAAiB;AAAA,QAChB,OAAO,GAAG,KAAK,IAAI;AAAA,QACnB,MAAM;AAAA,QACN,SAAS;AAAA,QACT,QAAQ,CAAC,uBAAuB;AAAA,QAChC,IAAI;AAAA,UACH,OAAO;AAAA,YACN,YAAY;AAAA,UAClB;AAAA,QACA;AAAA,MACA;AAAA,MACG,iBAAiB;AAAA,QAChB,OAAO,GAAG,KAAK,IAAI;AAAA,QACnB,MAAM;AAAA,QACN,SAAS;AAAA,QACT,QAAQ,CAAC,uBAAuB;AAAA,QAChC,IAAI;AAAA,UACH,OAAO;AAAA,YACN,YAAY;AAAA,UAClB;AAAA,QACA;AAAA,MACA;AAAA,IACA;AAAA,IAEE,OAAO;AAAA,MACN,mBAAmB;AAAA,QAClB,KAAK;AAAA,UACJ,WAAW,SAAU,MAAM,IAAI;AAC9B,mBAAO;AAAA,UACR;AAAA,UACA,aAAY,SAAUA,SAAQ,KAAK;AACnB,gBAAGA,QAAO,QAAQ,iBAAgB,GAAG,EAAG,QAAO,OAAO;AAAA,UAC1D;AAAA,QACjB;AAAA,QACI,SAAS,EAAE,QAAQ,CAAC,aAAa,YAAY,EAAC;AAAA,QAC9C,QAAQ;AAAA,QACR,QAAQ,CAACF,QAAOE,YAAW;AAC1B,iBAAOA,QAAO,WAAW,KAAK,CAAAC,UAAQ,CAAC,IAAI,GAAG,UAAUA,KAAI,CAAC,IAAI;AAAA,QAClE;AAAA,QACA,UAAU;AACT,cAAI,KAAK,OAAO,SAAS,KAAK,CAAAA,UAAQ,CAAC,IAAI,GAAG,UAAUA,KAAI,CAAC;AAC7D,cAAI,GAAG,UAAU,EAAG;AACpB,iBAAO,cAAc,IAAI,qBAAqB;AAAA,QAC/C;AAAA,MACJ;AAAA,MACG,iBAAiB;AAAA,QAChB,SAAS;AAAA,UACR,QAAQ;AAAA,QACb;AAAA,QACI,QAAQ;AAAA,QACR,QAAQ,SAAUH,QAAOE,SAAQ;AAChC,cAAI,CAACA,QAAO,SAAS,WAAW,EAAG,QAAO;AAC1C,cAAIF,OAAM,wBAAwB,CAACA,OAAM,QAAQ,UAAUE,QAAO,SAAS,iBAAiB,EAAG,QAAO;AACtG,iBAAOF,OAAM,KAAK,QAAQ;AAAA,QAC3B;AAAA,QACA,SAAS,WAAY;AACpB;AACA,iBAAO,aAAa,wBAAwB,eAAe;AAC3D,kBAAQ,uBAAuB;AAAA,QAChC;AAAA,QACA,UAAU;AAAA,UACT,MAAM;AAAA,YACL,SAAS;AAAA,cACR,QAAQ;AAAA,YACf;AAAA,YACM,WAAW;AAAA,YACX,OAAO;AAAA,YACP,QAAQ;AAAA,YACR,QAAQ,SAAUA,QAAOE,SAAQ;AAChC,qBAAQF,OAAM,OAAO,wBAAwBE,WAAUF,OAAM,QAAQ,UAAUA,OAAM,OAAO,kBAAkB;AAAA,YAC/G;AAAA,YACA,SAAS,WAAY;AACpB,sBAAQ,UAAS,EAAG,UAAU,QAAQ,YAAY,QAAQ,OAAO,QAAQ,OAAO;AAChF,sBAAQ,UAAS,EAAG,oBAAoB,QAAQ,YAAY,kBAAkB,OAAO,QAAQ,OAAO;AAAA,YACrG;AAAA,YACA,KAAK;AAAA,UACX;AAAA,QACA;AAAA,MACA;AAAA,MACG,kBAAkB,EAAE,OAAO,0BAAyB;AAAA,MACpD,uBAAuB;AAAA,QACtB,SAAS,EAAE,QAAQ,eAAc;AAAA,QACjC,QAAQ,SAAUA,QAAOE,SAAQ;AAChC,iBAAOF,OAAM,MAAM,KAAKA,OAAM,UAAUE;AAAA,QACzC;AAAA,QACA,QAAQ;AAAA,QACR,SAAS,WAAY;AACpB,kBAAQ;AACR,iBAAO,SAAS,oBAAoB,QAAQ,MAAM;AAAA,QACnD;AAAA,MACJ;AAAA,MACG,uBAAuB;AAAA,QACtB,SAAS,EAAE,QAAQ,qBAAoB;AAAA,QACvC,QAAQ;AAAA,QACR,SAAS,WAAY;AACpB,cAAI,OAAO,OAAO;AAClB,gBAAM,KAAK,OAAO,IAAI;AACtB,kBAAQ,KAAK,KAAK,IAAI;AACtB,UAAAH,MAAK,IAAI,QAAQ,aAAa;AAC9B,iBAAO,SAAS,kBAAkB;AAClC,iBAAO,KAAI;AAAA,QACZ;AAAA,MACJ;AAAA,MACG,uBAAuB;AAAA,QACtB,QAAQ;AAAA,QACR,QAAQ,SAAUC,QAAOE,SAAQ;AAChC,iBAAOA,QAAO,SAAS,KAAK,SAAUC,OAAM;AAC3C,mBAAO,IAAI,IAAIA,OAAM,QAAQ;AAAA,UAC9B,CAAC,EAAE,SAASD,QAAO,WAAW,uBAAuB;AAAA,QACtD;AAAA,QACA,YAAY,SAAUC,OAAM;AAC3B,iBAAO,IAAI,IAAIA,OAAM,QAAQ;AAAA,QAC9B;AAAA,QACA,YAAY,WAAY;AACvB,cAAID,UAAS,QAAQ,MAAM;AAC3B,iBAAOA,QAAO,WAAW,uBAAuB,IAAI;AAAA,QACrD;AAAA,QACA,cAAc,SAAUC,OAAMD,SAAQE,SAAQ;AAC7C,iBAAOA,WAAUF,WAAUA,QAAO,QAAQE,OAAM;AAAA,QACjD;AAAA,QACA,UAAU;AAAA,QACV,QAAQ,WAAY;AACnB,cAAIF,UAAS,QAAQ,MAAM;AAC3B,iBAAO,WAAWA,QAAO,WAAW,uBAAuB,IAAI,KAAK;AAAA,QACrE;AAAA,QACA,SAAS,WAAY;AACpB,iBAAO,OAAM;AACb,iBAAO,SAAS,oBAAoB,MAAM;AAAA,QAC3C;AAAA,QACA,IAAI;AAAA,UACH,OAAO;AAAA,UACP,QAAQ;AAAA,YACP,QAAQ;AAAA,UACd;AAAA,QACA;AAAA,MACA;AAAA;AAAA,MAEG,gBAAgB;AAAA,QACf,KAAK;AAAA,UACJ,YAAY,SAAUC,OAAMD,SAAQ;AACnC,gBAAI,UAAUA,QAAO,WAAW,SAAS,GAAG,WAAW;AACvD,qBAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AACxC,kBAAI,QAAQ,CAAC,EAAE,KAAK,QAAQ,OAAO;AAClC,2BAAW;AACX;AAAA,cACD;AAAA,YACD;AACA,gBAAI,CAACC,MAAK,UAAUA,MAAK,QAAQ,SAAS,SAAU,QAAO;AAAA,UAC5D;AAAA,QACL;AAAA,QACI,SAAS,EAAE,QAAQ,UAAS;AAAA,QAC5B,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,QAAQ,SAAUH,QAAOE,SAAQ;AAChC,cAAI,CAACF,OAAM,KAAM,QAAO;AACxB,iBAAOA,OAAM,KAAK,QAAQ;AAAA,QAC3B;AAAA,QACA,SAAS,WAAY;AACpB;AACA,cAAI,UAAU,OAAO,WAAW,SAAS,GAAG,WAAW;AACvD,mBAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AACxC,gBAAI,CAAC,QAAQ,IAAI,CAAC,EAAG;AACrB,gBAAI,QAAQ,IAAI,CAAC,EAAE,KAAK,QAAQ,OAAO;AACtC,yBAAW;AACX;AAAA,YACD;AAAA,UACD;AACA,cAAI,YAAY,MAAO,OAAM,KAAK,CAAC;AAAA,mBAC1B,CAAC,QAAQ,KAAK,QAAQ;AAC9B,oBAAQ,KAAK,SAAS;AAAA,UACvB;AAEA,cAAID,MAAK,UAAU,QAAQ,IAAI,GAAG;AACjC,gBAAI,CAAC,QAAQ,WAAY,SAAQ,aAAa;AAC9C,oBAAQ,cAAc;AAAA,UACvB;AAAA,QACD;AAAA,QACA,OAAO;AAAA,QACP,UAAU;AAAA,UACT,OAAO;AAAA,YACN,SAAS;AAAA,cACR,QAAQ;AAAA,YACf;AAAA,YACM,QAAQ,SAAUC,QAAO;AACxB,qBAAOA,OAAM,QAAQA,OAAM,KAAK,QAAQ,SAASA,OAAM,KAAK;AAAA,YAC7D;AAAA,YACA,QAAQ;AAAA,YACR,WAAW;AAAA,YACX,SAAS,WAAY;AACpB,sBAAQ,OAAO,aAAa,WAAW;AACvC,sBAAQ,OAAO,QAAQ,UAAU,IAAI,QAAQ,IAAI;AACjD,sBAAQ,OAAO,UAAU,WAAW;AAAA,YACrC;AAAA,YACA,IAAI;AAAA,cACH,cAAc;AAAA,cACd,gBAAgB,SAAUE,SAAQ,KAAK,KAAK;AAC3C,oBAAI,OAAO,IAAI,QAAQ,SAASH,MAAK,UAAU,GAAG,EAAG,QAAO;AAC5D,uBAAO;AAAA,cACR;AAAA,YACP;AAAA,UACA;AAAA,QACA;AAAA,MACA;AAAA;AAAA,MAEG,qBAAqB;AAAA,QACpB,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,QAAQ,SAAUC,QAAOE,SAAQ;AAChC,iBAAOA,QAAO,WAAW,GAAG,IAAI;AAAA,QACjC;AAAA,QACA,YAAY;AAAA,QACZ,YAAY;AAAA,QACZ,QAAO;AAAA,QACP,SAAQ;AAAA,QACR,MAAMC,OAAK;AACV,iBAAO,IAAI,IAAI,MAAMA,KAAI;AAAA,QAC1B;AAAA,QACA,MAAM,QAAQH,QAAOC,UAASC,SAAQ;AACrC,cAAI,QAAQA,QAAO,SAAS,KAAK,SAAUC,OAAM;AAChD,mBAAOA,MAAK,QAAQ;AAAA,UACrB,CAAC;AACD,UAAAD,QAAO,QAAQ,KAAK;AAAA,QACrB;AAAA,QACA,IAAI;AAAA,UACH,OAAO;AAAA,UACP,QAAQ;AAAA,YACP,QAAQ;AAAA,UACd;AAAA,QACA;AAAA,MACA;AAAA;AAAA,MAGG,mBAAkB;AAAA,QACjB,SAAS;AAAA,UACR,QAAQ,CAAC,YAAW,WAAW;AAAA,QACpC;AAAA,QACI,YAAY;AAAA,QACZ,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,OAAOF,QAAOE,SAAO;AACpB,cAAGF,OAAM,QAAM,SAAU,QAAO;AAChC,iBAAOE,QAAO,WAAW,QAAQ,SAAO;AACvC,mBAAO,IAAI,eAAeF,UAAS,OAAO,OAAO,IAAI,WAAW,EAAE,KAAK,WAAS,MAAM,KAAK,GAAG,EAAE,SAAS,YAAY,CAAC;AAAA,UACvH,CAAC,KAAG,IAAI,GAAG,oBAAoBA,OAAM,IAAI;AAAA,QAC1C;AAAA,QACA,SAAS,MAAM;AACd,cAAG,QAAQ,QAAM,UAAS;AACzB,kBAAM,QAAQ,OAAO,SAAS,KAAK,SAAUG,OAAM;AAClD,qBAAOA,MAAK,QAAQ;AAAA,YACrB,CAAC;AACD,mBAAO,QAAQ,KAAK;AACpB;AAAA,UACD;AACA,kBAAQ,gBAAgB;AAAA,QACzB;AAAA,MACJ;AAAA,IACA;AAAA,IAEE,WAAW;AAAA,MACV,YAAY;AAAA,MACZ,mBAAmB;AAAA,MACnB,kBAAkB;AAAA,MAClB,iBAAiB;AAAA,MACjB,uBAAuB;AAAA,MACvB,wBAAwB;AAAA,MACxB,iBAAiB;AAAA,MACjB,uBAAuB;AAAA,MACvB,wBAAwB;AAAA,MACxB,iBAAiB;AAAA,MACjB,uBAAuB;AAAA,MACvB,wBAAwB;AAAA,MACxB,UAAU;AAAA,MACV,gBAAgB;AAAA,MAChB,iBAAiB;AAAA,MACjB,eAAe;AAAA,MACf,qBAAqB;AAAA,MACrB,sBAAsB;AAAA,MACtB,kBAAkB;AAAA,MAClB,yBAAyB;AAAA,MACzB,eAAe;AAAA,MACf,eAAe;AAAA,MACf,eAAe;AAAA,MACf,eAAe;AAAA,MACf,eAAe;AAAA,MACf,mBAAmB;AAAA,MACnB,sBAAsB;AAAA,MACtB,sBAAsB;AAAA,MACtB,sBAAsB;AAAA,MACtB,sBAAsB;AAAA,MACtB,sBAAsB;AAAA,MACtB,qBAAqB;AAAA,MACrB,aAAY;AAAA,MACZ,mBAAkB;AAAA,MAClB,oBAAmB;AAAA,MACnB,qBAAoB;AAAA,MACpB,4BAA2B;AAAA,MAC3B,sBAAqB;AAAA,MACrB,6BAA4B;AAAA,IAC/B;AAAA,IAAK,MAAM,CAAA;AAAA,EACX;AACC,MAAI,UAAU,sBAAsB,IAAI;AAExC,MAAI,CAAC,IAAI,OAAO,MAAM,SAAS,UAAU,EAAG,KAAI,OAAO,MAAM,KAAK,UAAU;AAC5E,SAAO;AACR,CAAC;"}