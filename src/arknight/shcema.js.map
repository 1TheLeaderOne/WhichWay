{"version":3,"file":"shcema.js","sources":["../../../../../../packages/extension/WhichWay/src/arknight/shcema.js"],"sourcesContent":["import { lib, game, ui, get, ai, _status } from \"noname\";\r\nimport { whichWayUtil } from \"../utill.js\";\r\nclass ArknightShcema {\r\n\taudio = {\r\n\t\tindex: [\"001\", \"002\", \"003\", \"004\", \"005\", \"006\", \"007\", \"008\", \"009\", \"010\", \"011\", \"012\", \"013\", \"014\", \"017\", \"018\", \"019\", \"020\", \"021\", \"022\", \"023\", \"024\", \"025\", \"026\", \"027\", \"028\", \"029\", \"030\", \"031\", \"032\", \"033\", \"034\", \"036\", \"037\", \"038\", \"042\", \"043\", \"044\"],\r\n\t\tname: [\"任命助理\", \"交谈1\", \"交谈2\", \"交谈3\", \"晋升后交谈1\", \"晋升后交谈2\", \"信赖提升后交谈1\", \"信赖提升后交谈2\", \"信赖提升后交谈3\", \"闲置\", \"干员报到\", \"观看作战记录\", \"精英化晋升1\", \"精英化晋升2\", \"编入队伍\", \"任命队长\", \"行动出发\", \"行动开始\", \"选中干员1\", \"选中干员2\", \"部署1\", \"部署2\", \"作战中1\", \"作战中2\", \"作战中3\", \"作战中4\", \"完成高难行动\", \"3星结束行动\", \"非3星结束行动\", \"行动失败\", \"进驻设施\", \"戳一下\", \"信赖触摸\", \"标题\", \"新年祝福\", \"问候\", \"生日\", \"周年庆典\"],\r\n\t};\r\n\tcharacter = {\r\n\t\tarknightUID: {},\r\n\t\twhichWayUID: {},\r\n\t\tchineseName: new WhichWayArkChineseName(),\r\n\t};\r\n\r\n\tgroup = {\r\n\t\twhichWay: [\"yimrfz\", \"luomrfz\", \"laimrfz\", \"xiemrfz\", \"xumrfz\", \"bamrfz\", \"liemrfz\", \"qimrfz\", \"kamrfz\", \"gemrfz\", \"longmrfz\", \"weimrfz\", \"lamrfz\", \"wumrfz\", \"samrfz\", \"othermrfz\", \"suimrfz\", \"limrfz\", \"ximrfz\", \"hongmrfz\", \"dongmrfz\", \"yanmrfz\", \"lymrfz\", \"shimrfz\", \"mimrfz\", \"leimrfz\", \"a_groupmrfz\", \"shenmrfz\", \"haimrfz\", \"samimrfz\", \"bomrfz\", \"luoElitemrfz\"],\r\n\t\tarknight: [\"iberia\", \"rhodes\", \"leithanien\", \"karlan\", \"siracusa\", \"babel\", \"abyssal\", \"penguin\", \"kazimierz\", \"columbia\", \"lgd\", \"victoria\", \"laterano\", \"ursus\", \"sargon\", \"rainbow\", \"sui\", \"lee\", \"siesta\", \"pinus\", \"higashi\", \"yan\", \"rhine\", \"followers\", \"minos\", \"rim\", \"abyssal\", \"tara\", \"egir\", \"sami\", \"bolivar\", \"elite\"],\r\n\t};\r\n\r\n\t/**\r\n\t * 进行映射\r\n\t * @param { string } str - 需要映射的字符串\r\n\t * @param { \"audio\" | \"character\" | \"group\"} type - 映射目标,即str是属于哪个模块的\r\n\t * @param { string } [subtype] -子类别,不选则自动识别\r\n\t * @returns { string | ArksCamps | undefined } 映射后的字符串\r\n\t */\r\n\ttransfer(str, type, subtype) {\r\n\t\tif (typeof type !== \"string\" || (subtype !== void 0 && typeof subtype !== \"string\")) throw new Error(\"参数类型错误！\");\r\n\t\tif (type === \"audio\") {\r\n\t\t\tif (subtype) {\r\n\t\t\t\tconst lookupKey = subtype === \"index\" ? \"name\" : \"index\";\r\n\t\t\t\tconst lookupList = this[type][lookupKey];\r\n\t\t\t\tconst targetList = this[type][subtype];\r\n\t\t\t\tconst idx = lookupList.indexOf(str);\r\n\t\t\t\treturn idx !== -1 ? targetList[idx] : undefined;\r\n\t\t\t}\r\n\t\t\treturn whichWayUtil.bidirectionalLookup(this[type].index, this[type].name, str);\r\n\t\t} else if (type === \"group\") {\r\n\t\t\tif (subtype) {\r\n\t\t\t\tconst lookupKey = subtype === \"whichWay\" ? \"arknight\" : \"whichWay\";\r\n\t\t\t\tconst lookupList = this[type][lookupKey];\r\n\t\t\t\tconst targetList = this[type][subtype];\r\n\t\t\t\tconst idx = lookupList.indexOf(str);\r\n\t\t\t\treturn idx !== -1 ? targetList[idx] : undefined;\r\n\t\t\t}\r\n\t\t\treturn whichWayUtil.bidirectionalLookup(this[type].whichWay, this[type].arknight, str);\r\n\t\t} else if(type === 'character'){\r\n\t\t\tconst characters = this.character;\r\n\t\t\tif(subtype){\r\n\t\t\t\treturn subtype === \"chineseName\" ? characters.chineseName.get(str) : characters[subtype][str];\r\n\t\t\t}\r\n\t\t\treturn characters.whichWayUID[str] || characters.arknightUID[str] || characters.chineseName.get(str);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass WhichWayArkChineseName {\r\n\tarkUID = {};\r\n\twhichWayUID = {};\r\n\t/**\r\n\t * 获取角色UID对应的中文\r\n\t * @param { string } value\r\n\t *\r\n\t * @returns { string | undefined }\r\n\t */\r\n\tget(value) {\r\n\t\treturn this.arkUID[value] || this.whichWayUID[value];\r\n\t}\r\n\r\n\t/**\r\n\t * 设置角色UID对应的中文\r\n\t * @param {[string, string]} keys - [明日方舟UID, WhichWayUID]\r\n\t * @param {string} value - 中文名\r\n\t */\r\n\tset([arkId, whichId], value) {\r\n\t\tconst existing = this.arkUID[arkId] || this.arkUID[whichId] || this.whichWayUID[arkId] || this.whichWayUID[whichId];\r\n\r\n\t\tif (existing) {\r\n\t\t\tconsole.warn(`[WhichWayArkChineseName] 翻译覆盖: 角色 ${arkId},${whichId} 已存在中文翻译 ${existing}`);\r\n\t\t}\r\n\r\n\t\tthis.arkUID[arkId] = value;\r\n\t\tthis.whichWayUID[whichId] = value;\r\n\t}\r\n}\r\n\r\nexport const whichWayArknightShcema = new ArknightShcema();\r\n"],"names":[],"mappings":";;AAEA,MAAM,eAAe;AAAA,EACpB,QAAQ;AAAA,IACP,OAAO,CAAC,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,KAAK;AAAA,IAChR,MAAM,CAAC,QAAQ,OAAO,OAAO,OAAO,UAAU,UAAU,YAAY,YAAY,YAAY,MAAM,QAAQ,UAAU,UAAU,UAAU,QAAQ,QAAQ,QAAQ,QAAQ,SAAS,SAAS,OAAO,OAAO,QAAQ,QAAQ,QAAQ,QAAQ,UAAU,UAAU,WAAW,QAAQ,QAAQ,OAAO,QAAQ,MAAM,QAAQ,MAAM,MAAM,MAAM;AAAA,EACxU;AAAA,EACC,YAAY;AAAA,IACX,aAAa,CAAA;AAAA,IACb,aAAa,CAAA;AAAA,IACb,aAAa,IAAI,uBAAsB;AAAA,EACzC;AAAA,EAEC,QAAQ;AAAA,IACP,UAAU,CAAC,UAAU,WAAW,WAAW,WAAW,UAAU,UAAU,WAAW,UAAU,UAAU,UAAU,YAAY,WAAW,UAAU,UAAU,UAAU,aAAa,WAAW,UAAU,UAAU,YAAY,YAAY,WAAW,UAAU,WAAW,UAAU,WAAW,eAAe,YAAY,WAAW,YAAY,UAAU,cAAc;AAAA,IAC3W,UAAU,CAAC,UAAU,UAAU,cAAc,UAAU,YAAY,SAAS,WAAW,WAAW,aAAa,YAAY,OAAO,YAAY,YAAY,SAAS,UAAU,WAAW,OAAO,OAAO,UAAU,SAAS,WAAW,OAAO,SAAS,aAAa,SAAS,OAAO,WAAW,QAAQ,QAAQ,QAAQ,WAAW,OAAO;AAAA,EACxU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASC,SAAS,KAAK,MAAM,SAAS;AAC5B,QAAI,OAAO,SAAS,YAAa,YAAY,UAAU,OAAO,YAAY,SAAW,OAAM,IAAI,MAAM,SAAS;AAC9G,QAAI,SAAS,SAAS;AACrB,UAAI,SAAS;AACZ,cAAM,YAAY,YAAY,UAAU,SAAS;AACjD,cAAM,aAAa,KAAK,IAAI,EAAE,SAAS;AACvC,cAAM,aAAa,KAAK,IAAI,EAAE,OAAO;AACrC,cAAM,MAAM,WAAW,QAAQ,GAAG;AAClC,eAAO,QAAQ,KAAK,WAAW,GAAG,IAAI;AAAA,MACvC;AACA,aAAO,aAAa,oBAAoB,KAAK,IAAI,EAAE,OAAO,KAAK,IAAI,EAAE,MAAM,GAAG;AAAA,IAC/E,WAAW,SAAS,SAAS;AAC5B,UAAI,SAAS;AACZ,cAAM,YAAY,YAAY,aAAa,aAAa;AACxD,cAAM,aAAa,KAAK,IAAI,EAAE,SAAS;AACvC,cAAM,aAAa,KAAK,IAAI,EAAE,OAAO;AACrC,cAAM,MAAM,WAAW,QAAQ,GAAG;AAClC,eAAO,QAAQ,KAAK,WAAW,GAAG,IAAI;AAAA,MACvC;AACA,aAAO,aAAa,oBAAoB,KAAK,IAAI,EAAE,UAAU,KAAK,IAAI,EAAE,UAAU,GAAG;AAAA,IACtF,WAAU,SAAS,aAAY;AAC9B,YAAM,aAAa,KAAK;AACxB,UAAG,SAAQ;AACV,eAAO,YAAY,gBAAgB,WAAW,YAAY,IAAI,GAAG,IAAI,WAAW,OAAO,EAAE,GAAG;AAAA,MAC7F;AACA,aAAO,WAAW,YAAY,GAAG,KAAK,WAAW,YAAY,GAAG,KAAK,WAAW,YAAY,IAAI,GAAG;AAAA,IACpG;AAAA,EACD;AACD;AAEA,MAAM,uBAAuB;AAAA,EAC5B,SAAS,CAAA;AAAA,EACT,cAAc,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOd,IAAI,OAAO;AACV,WAAO,KAAK,OAAO,KAAK,KAAK,KAAK,YAAY,KAAK;AAAA,EACpD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,IAAI,CAAC,OAAO,OAAO,GAAG,OAAO;AAC5B,UAAM,WAAW,KAAK,OAAO,KAAK,KAAK,KAAK,OAAO,OAAO,KAAK,KAAK,YAAY,KAAK,KAAK,KAAK,YAAY,OAAO;AAElH,QAAI,UAAU;AACb,cAAQ,KAAK,qCAAqC,KAAK,IAAI,OAAO,YAAY,QAAQ,EAAE;AAAA,IACzF;AAEA,SAAK,OAAO,KAAK,IAAI;AACrB,SAAK,YAAY,OAAO,IAAI;AAAA,EAC7B;AACD;AAEY,MAAC,yBAAyB,IAAI,eAAc;"}