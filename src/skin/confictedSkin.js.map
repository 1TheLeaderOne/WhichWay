{"version":3,"file":"confictedSkin.js","sources":["../../../../../../packages/extension/WhichWay/src/skin/confictedSkin.ts"],"sourcesContent":["import { whichWayUtil } from \"../utill.js\"\r\n\r\ninterface ConfictedSkin {\r\n    has(name:string,skin:string,from:string):boolean\r\n    /**\r\n     * 添加冲突皮肤,不会重复添加\r\n     */\r\n    add(name:string,skin:string,from:string):void\r\n\r\n    get(name:string):Array<{skin:string,from:string}> | undefined\r\n    \r\n    size:number\r\n\r\n    /**\r\n     * 冲突皮肤的数据\r\n     */\r\n    data:Record<string,Array<{skin:string,from:string}>>\r\n\r\n    /**\r\n     * 冲突皮肤的选择历史\r\n     */\r\n    selected:Record<string,string>\r\n}\r\n\r\nconst ConfictedSkinPrototype = {\r\n    has(this:ConfictedSkin,name:string,skin:string,from:string){\r\n         //@ts-ignore\r\n        if([name,skin,from].includes(undefined)) throw new Error(\"参数不能为undefined\");\r\n        if(!Array.isArray(this.data[name])) return false;\r\n        return this.data[name].some(item=>item.from===from&&item.skin===skin)\r\n    },\r\n\r\n    add(this:ConfictedSkin,name:string,skin:string,from:string){\r\n        //@ts-ignore\r\n        if([name,skin,from].includes(undefined)) throw new Error(\"参数不能为undefined\");\r\n        if(!this.has(name,skin,from)){\r\n            if(!Array.isArray(this.data[name])) this.data[name] = [];\r\n            this.data[name].push({skin,from})\r\n        }\r\n    },\r\n\r\n    get(this:ConfictedSkin,name:string){\r\n        //@ts-ignore\r\n        if(name===undefined) throw new Error(\"参数不能为undefined\");\r\n        return this.data[name]\r\n    },\r\n\r\n    get size(){\r\n        return Object.keys(this.data).length\r\n    },\r\n\r\n    data : {},\r\n\r\n    get selected(){\r\n        return whichWayUtil.config(\"whichWay_ConfictedSkin_selectedSkins\") || {}\r\n    },\r\n\r\n    set selected(value:Record<string,string>){\r\n        whichWayUtil.saveConfig(\"whichWay_ConfictedSkin_selectedSkins\",value);\r\n    }\r\n}\r\n\r\nexport const confictedSkin = Object.create(ConfictedSkinPrototype) as ConfictedSkin"],"names":[],"mappings":";AAwBA,MAAM,yBAAyB;AAAA,EAC3B,IAAuB,MAAY,MAAY,MAAY;AAEvD,QAAG,CAAC,MAAK,MAAK,IAAI,EAAE,SAAS,MAAS,EAAG,OAAM,IAAI,MAAM,gBAAgB;AACzE,QAAG,CAAC,MAAM,QAAQ,KAAK,KAAK,IAAI,CAAC,EAAG,QAAO;AAC3C,WAAO,KAAK,KAAK,IAAI,EAAE,KAAK,CAAA,SAAM,KAAK,SAAO,QAAM,KAAK,SAAO,IAAI;AAAA,EACxE;AAAA,EAEA,IAAuB,MAAY,MAAY,MAAY;AAEvD,QAAG,CAAC,MAAK,MAAK,IAAI,EAAE,SAAS,MAAS,EAAG,OAAM,IAAI,MAAM,gBAAgB;AACzE,QAAG,CAAC,KAAK,IAAI,MAAK,MAAK,IAAI,GAAE;AACzB,UAAG,CAAC,MAAM,QAAQ,KAAK,KAAK,IAAI,CAAC,EAAG,MAAK,KAAK,IAAI,IAAI,CAAA;AACtD,WAAK,KAAK,IAAI,EAAE,KAAK,EAAC,MAAK,MAAK;AAAA,IACpC;AAAA,EACJ;AAAA,EAEA,IAAuB,MAAY;AAE/B,QAAG,SAAO,OAAW,OAAM,IAAI,MAAM,gBAAgB;AACrD,WAAO,KAAK,KAAK,IAAI;AAAA,EACzB;AAAA,EAEA,IAAI,OAAM;AACN,WAAO,OAAO,KAAK,KAAK,IAAI,EAAE;AAAA,EAClC;AAAA,EAEA,MAAO,CAAA;AAAA,EAEP,IAAI,WAAU;AACV,WAAO,aAAa,OAAO,sCAAsC,KAAK,CAAA;AAAA,EAC1E;AAAA,EAEA,IAAI,SAAS,OAA4B;AACrC,iBAAa,WAAW,wCAAuC,KAAK;AAAA,EACxE;AACJ;AAEO,MAAM,gBAAgB,OAAO,OAAO,sBAAsB;"}