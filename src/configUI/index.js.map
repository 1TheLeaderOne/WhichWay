{"version":3,"file":"index.js","sources":["../../../../../../packages/extension/WhichWay/src/configUI/index.js"],"sourcesContent":["import { lib, game, ui, get, ai, _status } from \"noname\";\r\nimport { createApp } from \"vue\";\r\nimport { onArenaReady, onContent, onSetDev } from \"../hooks/index.js\";\r\nimport Main from \"./main.vue\";\r\nimport { whichWayUtil } from \"../utill.js\";\r\n\r\nclass WhichWayConfigUI {\r\n\tconstructor() {\r\n\t\tthis.app = this.createApp();\r\n\t\tthis.vueInstance = null;\r\n\t\tthis.mainComponent = null;\r\n\r\n\t\tonArenaReady({\r\n\t\t\tname: \"configUI_system\",\r\n\t\t\tfn: () => {\r\n\t\t\t\tui.create.system(\"驶舰之向\", () => {\r\n\t\t\t\t\tthis.show();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\t//初始化背景设置\r\n\t\tonContent({\r\n\t\t\tname: \"configUI_initBackground\",\r\n\t\t\tfn:()=>{\r\n\t\t\t\twhichWayUtil.setBgI();\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tapp;\r\n\tvueInstance;\r\n\tmainComponent;\r\n\r\n\t/**\r\n\t * 创建vue应用的容器\r\n\t * @returns {HTMLElement}\r\n\t */\r\n\tcreateApp() {\r\n\t\tconst app = ui.create.div(\".whichWayConfigUIApp\", document.body);\r\n\t\tapp.style.width = \"100%\";\r\n\t\tapp.style.height = \"100%\";\r\n\t\tapp.style.position = \"absolute\";\r\n\t\tapp.style.top = \"0px\";\r\n\t\tapp.style.left = \"0px\";\r\n\t\tapp.style.zIndex = \"19\";\r\n        app.style.display = \"none\";\r\n\r\n\t\treturn app;\r\n\t}\r\n\r\n\t/**\r\n\t * 打开快速配置界面\r\n\t */\r\n\tshow() {\r\n\t\tif (!this.vueInstance) {\r\n\t\t\tthis.vueInstance = createApp(Main); \r\n\r\n\t\t\tthis.mainComponent = this.vueInstance.mount(this.app);\r\n\t\t}\r\n\r\n\t\t// 调用组件的 show 方法\r\n\t\tif (this.mainComponent?.show) {\r\n\t\t\tthis.mainComponent.show();\r\n\t\t}\r\n\t}\r\n\r\n\ttoggle() {\r\n\t\tif (this.mainComponent?.toggle) {\r\n\t\t\tthis.mainComponent.toggle();\r\n\t\t}\r\n\t}\r\n\r\n    hide() {\r\n        if (this.mainComponent?.hide) {\r\n            this.mainComponent.hide();\r\n        }\r\n    }\r\n}\r\n\r\nexport const whichWayConfigUI = new WhichWayConfigUI();\r\n\r\nonSetDev({\r\n\tname: \"whichWayConfigUI_setDev\",\r\n\tfn: () => {\r\n\t\t//@ts-ignore\r\n\t\twindow.whichwayConfigUI = whichWayConfigUI;\r\n\t},\r\n});\r\n\r\nwindow.whichWay.register(\"configUI\", whichWayConfigUI);\r\n"],"names":[],"mappings":";;;;;AAMA,MAAM,iBAAiB;AAAA,EACtB,cAAc;AACb,SAAK,MAAM,KAAK;AAChB,SAAK,cAAc;AACnB,SAAK,gBAAgB;AAErB,iBAAa;AAAA,MACZ,MAAM;AAAA,MACN,IAAI,MAAM;AACT,WAAG,OAAO,OAAO,QAAQ,MAAM;AAC9B,eAAK,KAAI;AAAA,QACV,CAAC;AAAA,MACF;AAAA,IACH,CAAG;AAGD,cAAU;AAAA,MACT,MAAM;AAAA,MACN,IAAG,MAAI;AACN,qBAAa,OAAM;AAAA,MACpB;AAAA,IACH,CAAG;AAAA,EACF;AAAA,EAEA;AAAA,EACA;AAAA,EACA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,YAAY;AACX,UAAM,MAAM,GAAG,OAAO,IAAI,wBAAwB,SAAS,IAAI;AAC/D,QAAI,MAAM,QAAQ;AAClB,QAAI,MAAM,SAAS;AACnB,QAAI,MAAM,WAAW;AACrB,QAAI,MAAM,MAAM;AAChB,QAAI,MAAM,OAAO;AACjB,QAAI,MAAM,SAAS;AACb,QAAI,MAAM,UAAU;AAE1B,WAAO;AAAA,EACR;AAAA;AAAA;AAAA;AAAA,EAKA,OAAO;AACN,QAAI,CAAC,KAAK,aAAa;AACtB,WAAK,cAAc,UAAU,IAAI;AAEjC,WAAK,gBAAgB,KAAK,YAAY,MAAM,KAAK,GAAG;AAAA,IACrD;AAGA,QAAI,KAAK,eAAe,MAAM;AAC7B,WAAK,cAAc;IACpB;AAAA,EACD;AAAA,EAEA,SAAS;AACR,QAAI,KAAK,eAAe,QAAQ;AAC/B,WAAK,cAAc;IACpB;AAAA,EACD;AAAA,EAEG,OAAO;AACH,QAAI,KAAK,eAAe,MAAM;AAC1B,WAAK,cAAc;IACvB;AAAA,EACJ;AACJ;AAEY,MAAC,mBAAmB,IAAI,iBAAgB;AAEpD,SAAS;AAAA,EACR,MAAM;AAAA,EACN,IAAI,MAAM;AAET,WAAO,mBAAmB;AAAA,EAC3B;AACD,CAAC;AAED,OAAO,SAAS,SAAS,YAAY,gBAAgB;"}