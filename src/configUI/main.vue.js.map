{"version":3,"file":"main.vue.js","sources":["../../../../../../packages/extension/WhichWay/src/configUI/main.vue"],"sourcesContent":["<template>\r\n\t<div class=\"backgroundConfigUI\" v-if=\"configUIVisible\">\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"titleBox\">\r\n\t\t\t\t<div class=\"ControlCPClose\" @click=\"hide\"></div>\r\n\t\t\t\t<div class=\"titleText\">文明的存续</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"functionBox\">\r\n\t\t\t\t<div class=\"titleBox\">\r\n\t\t\t\t\t<div class=\"imageBox\">\r\n\t\t\t\t\t\t<img :src=\"imgTitleSrc\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"title\">功能设置</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<!-- 按钮列表 -->\r\n\t\t\t\t<div v-for=\"(panel, index) in panels\" :key=\"index\" class=\"funcButton\" :class=\"{ selectedButton_ConfigUI_SJZX: currentPanel === panel.name }\" @click=\"selectPanel(panel)\">\r\n\t\t\t\t\t{{ panel.name }}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"displayArea\">\r\n\t\t\t\t<!-- 控制显示内容 -->\r\n\t\t\t\t<component :is=\"currentComponent\" v-if=\"currentPanel\" @loaded=\"handleContentLoaded\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script setup>\r\nimport { lib, game, ui, get, ai, _status } from \"noname\";\r\nimport { computed, ref, nextTick, onMounted } from \"vue\";\r\nimport UpdateCurrent from \"./component/updateCurrent.vue\";\r\nimport ExtIntro from \"../config/extIntro.vue\";\r\nimport BackgroundSet from \"./component/backgroundSet.vue\";\r\nimport UpdateLog from \"./component/updateLog.vue\";\r\n\r\nlet imgTitleSrc = \"./extension/WhichWay/image/ui/painter.png\";\r\n\r\n//实现不同面板的切换\r\nconst panels = [\r\n\t{ name: \"更新公告\", component: UpdateCurrent, autoLoad: true },\r\n\t{ name: \"更新日志\", component: UpdateLog },\r\n\t{ name: \"扩展介绍\", component: ExtIntro },\r\n\t{ name: \"背景设置\", component: BackgroundSet },\r\n];\r\n\r\n//当前面板\r\nconst currentPanel = ref(\"\");\r\nconst currentComponent = computed(() => {\r\n\tconst panel = panels.find(p => p.name === currentPanel.value);\r\n\treturn panel ? panel.component : null;\r\n});\r\n\r\nconst displayAreaRef = ref(null);\r\n// 选择面板\r\nconst selectPanel = async panel => {\r\n\t// 清空展示区域（滚动到顶部）\r\n\tif (displayAreaRef.value) {\r\n\t\t//@ts-ignore\r\n\t\tdisplayAreaRef.value.scrollTop = 0;\r\n\t\t//@ts-ignore\r\n\t\tdisplayAreaRef.value.style.overflow = \"\";\r\n\t}\r\n\r\n\t// 更新当前面板\r\n\tcurrentPanel.value = panel.name;\r\n\r\n\t// 如果是首次加载且标记为 autoLoad，触发加载完成回调\r\n\tif (panel.autoLoad && panel.onLoad) {\r\n\t\tawait nextTick();\r\n\t\tpanel.onLoad();\r\n\t}\r\n};\r\n\r\n// 内容加载完成回调\r\nconst handleContentLoaded = () => {\r\n\tif (displayAreaRef.value) {\r\n\t\t//@ts-ignore\r\n\t\tdisplayAreaRef.value.style.overflow = \"auto\";\r\n\t}\r\n};\r\n\r\n// 初始化\r\nonMounted(async () => {\r\n\t// 默认选中第一个面板\r\n\tif (panels[0]) {\r\n\t\tcurrentPanel.value = panels[0].name;\r\n\r\n\t\t// 自动加载标记的面板\r\n\t\tconst autoLoadPanel = panels.find(p => p.autoLoad);\r\n\t\tif (autoLoadPanel) {\r\n\t\t\tawait nextTick();\r\n\t\t\tif (autoLoadPanel.onLoad) {\r\n\t\t\t\tautoLoadPanel.onLoad();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\n//控制关闭与开启\r\nlet configUIVisible = ref(false);\r\n\r\n/**\r\n * @returns {HTMLElement}\r\n */\r\nconst getCurrentEl = () => {\r\n\t//@ts-ignore\r\n\treturn document.querySelector(\".whichWayConfigUIApp\");\r\n};\r\n\r\nconst show = () => {\r\n\tconfigUIVisible.value = true;\r\n\tconst el = getCurrentEl();\r\n\tif (el) {\r\n\t\tel.style.display = \"\";\r\n\t}\r\n\tgame.pause2();\r\n};\r\n\r\nconst hide = () => {\r\n\tconfigUIVisible.value = false;\r\n\tconst el = getCurrentEl();\r\n\tif (el) {\r\n\t\tel.style.display = \"none\";\r\n\t}\r\n\tgame.resume2();\r\n};\r\n\r\nconst toggle = () => {\r\n\tconst el = getCurrentEl();\r\n\tif (el) {\r\n\t\tel.style.display = el.style.display === \"none\" ? \"\" : \"none\";\r\n\t}\r\n\tconfigUIVisible.value = !configUIVisible.value;\r\n};\r\n\r\ndefineExpose({\r\n\tshow,\r\n\thide,\r\n\ttoggle,\r\n});\r\n</script>\r\n<style scoped>\r\n.whichWay-intro {\r\n\tmax-width: calc(100% - 32px) !important;\r\n\twidth: calc(100% - 32px) !important;\r\n}\r\n\r\n.qr-code,\r\n.baidu-icon {\r\n\tmax-width: calc(100% - 24px) !important;\r\n}\r\n\r\n.backgroundConfigUI > .container > .displayArea {\r\n\twidth: 85%;\r\n\theight: 85%;\r\n\tposition: absolute;\r\n\tfloat: left;\r\n\ttop: 13%;\r\n\tright: 1.5%;\r\n\tborder: 1px solid black;\r\n\toverflow: auto;\r\n}\r\n\r\n.backgroundConfigUI > .container > .displayArea > .extIntro {\r\n\ttext-align: center;\r\n}\r\n\r\n.backgroundConfigUI {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\tleft: 0px;\r\n\tbackground-size: 100% 100%;\r\n\tbackground-image: url(\"/extension/WhichWay/image/ui/bkg7.png\");\r\n\tz-index: 19;\r\n}\r\n\r\n.backgroundConfigUI > .container {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-color: rgba(62, 65, 65, 0.8);\r\n\tposition: absolute;\r\n}\r\n\r\n/* 标题栏 */\r\n.backgroundConfigUI > .container > .titleBox {\r\n\twidth: 97%;\r\n\theight: 8%;\r\n\tposition: absolute;\r\n\tfloat: left;\r\n\ttop: 1%;\r\n\tleft: 50%;\r\n\ttransform: translate(-50%, 0%);\r\n\t/*background-color: rgba(239, 233, 233, 0.8);*/\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tbackground-color: rgba(0, 0, 0, 0.6);\r\n}\r\n\r\n/* 标题 */\r\n.backgroundConfigUI > .container > .titleBox > .titleText {\r\n\tfont-size: larger;\r\n\tfont-weight: bold;\r\n\tcolor: rgb(255, 255, 255);\r\n\ttext-align: center;\r\n\tfont-family: dy_sjzx;\r\n}\r\n\r\n/* 关闭按钮 */\r\n.backgroundConfigUI > .container > .titleBox > .ControlCPClose {\r\n\twidth: 2.5%;\r\n\taspect-ratio: 1 / 1;\r\n\tleft: 1%;\r\n\tposition: absolute;\r\n\tbackground-size: 100% 100%;\r\n\tbackground-image: url(\"/extension/WhichWay/image/ui/back.png\");\r\n}\r\n\r\n/* 功能菜单 */\r\n.backgroundConfigUI > .container > .functionBox {\r\n\twidth: 10%;\r\n\theight: 88%;\r\n\tposition: absolute;\r\n\tfloat: left;\r\n\ttop: 10%;\r\n\tleft: 1.5%;\r\n\t/*background-color: rgba(239, 233, 233, 0.8);*/\r\n}\r\n\r\n/* 按钮 */\r\n.backgroundConfigUI > .container > .functionBox > .titleBox {\r\n\twidth: 100%;\r\n\theight: 6%;\r\n\tposition: relative;\r\n\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\tborder: 2px solid #837e7e;\r\n\tborder-radius: 2px;\r\n\tmargin-top: 10%;\r\n\ttop: 4%;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n\r\n.backgroundConfigUI > .container > .functionBox > .titleBox > .title {\r\n\tposition: relative;\r\n\tfloat: left;\r\n\tfont-size: medium;\r\n\ttext-shadow:\r\n\t\t-2px -2px 0 rgba(0, 0, 0, 0.3),\r\n\t\t2px -2px 0 rgba(0, 0, 0, 0.3),\r\n\t\t-2px 2px 0 rgba(0, 0, 0, 0.3),\r\n\t\t2px 2px 0 rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.backgroundConfigUI > .container > .functionBox > .titleBox > .imageBox {\r\n\tposition: relative;\r\n\tfloat: left;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\taspect-ratio: 1 / 1;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n\r\n.backgroundConfigUI > .container > .functionBox > .funcButton {\r\n\twidth: 90%;\r\n\theight: 6%;\r\n\tleft: 5%;\r\n\tposition: relative;\r\n\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\tborder: 1px solid #999;\r\n\tborder-radius: 2px;\r\n\tmargin-top: 10%;\r\n\ttop: 5%;\r\n\tfont-size: medium;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\ttext-shadow:\r\n\t\t-2px -2px 0 rgba(0, 0, 0, 0.3),\r\n\t\t2px -2px 0 rgba(0, 0, 0, 0.3),\r\n\t\t-2px 2px 0 rgba(0, 0, 0, 0.3),\r\n\t\t2px 2px 0 rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.backgroundConfigUI > .container > .functionBox > title {\r\n\twidth: 100%;\r\n\theight: 6%;\r\n\tposition: relative;\r\n\tbackground-size: 100% 100%;\r\n\ttop: 2%;\r\n\tfont-size: larger;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n\r\n.backgroundConfigUI > .container > .functionBox > .selectedButton_ConfigUI_SJZX {\r\n\tcolor: rgb(26, 194, 253) !important;\r\n}\r\n</style>\r\n"],"names":["_unref","_openBlock","_createElementBlock","_createElementVNode","_Fragment","_renderList","_toDisplayString","_createBlock","_resolveDynamicComponent"],"mappings":"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"}