{"version":3,"file":"EventDispatcher.js","sources":["../../../../../../packages/extension/WhichWay/lib/Sortable/EventDispatcher.js"],"sourcesContent":["import { IE11OrLess, Edge } from './BrowserInfo.js';\nimport { expando } from './utils.js';\nimport PluginManager from './PluginManager.js';\n\nexport default function dispatchEvent(\n\t{\n\t\tsortable, rootEl, name,\n\t\ttargetEl, cloneEl, toEl, fromEl,\n\t\toldIndex, newIndex,\n\t\toldDraggableIndex, newDraggableIndex,\n\t\toriginalEvent, putSortable, extraEventProperties\n\t}\n) {\n\tsortable = (sortable || (rootEl && rootEl[expando]));\n\tif (!sortable) return;\n\n\tlet evt,\n\t\toptions = sortable.options,\n\t\tonName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);\n\t// Support for new CustomEvent feature\n\tif (window.CustomEvent && !IE11OrLess && !Edge) {\n\t\tevt = new CustomEvent(name, {\n\t\t\tbubbles: true,\n\t\t\tcancelable: true\n\t\t});\n\t} else {\n\t\tevt = document.createEvent('Event');\n\t\tevt.initEvent(name, true, true);\n\t}\n\n\tevt.to = toEl || rootEl;\n\tevt.from = fromEl || rootEl;\n\tevt.item = targetEl || rootEl;\n\tevt.clone = cloneEl;\n\n\tevt.oldIndex = oldIndex;\n\tevt.newIndex = newIndex;\n\n\tevt.oldDraggableIndex = oldDraggableIndex;\n\tevt.newDraggableIndex = newDraggableIndex;\n\n\tevt.originalEvent = originalEvent;\n\tevt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n\tlet allEventProperties = { ...extraEventProperties, ...PluginManager.getEventProperties(name, sortable) };\n\tfor (let option in allEventProperties) {\n\t\tevt[option] = allEventProperties[option];\n\t}\n\n\tif (rootEl) {\n\t\trootEl.dispatchEvent(evt);\n\t}\n\n\tif (options[onName]) {\n\t\toptions[onName].call(sortable, evt);\n\t}\n}\n"],"names":[],"mappings":";;;AAIe,SAAS,cACvB;AAAA,EACC;AAAA,EAAU;AAAA,EAAQ;AAAA,EAClB;AAAA,EAAU;AAAA,EAAS;AAAA,EAAM;AAAA,EACzB;AAAA,EAAU;AAAA,EACV;AAAA,EAAmB;AAAA,EACnB;AAAA,EAAe;AAAA,EAAa;AAC9B,GACE;AACD,aAAY,YAAa,UAAU,OAAO,OAAO;AACjD,MAAI,CAAC,SAAU;AAEf,MAAI,KACH,UAAU,SAAS,SACnB,SAAS,OAAO,KAAK,OAAO,CAAC,EAAE,gBAAgB,KAAK,OAAO,CAAC;AAE7D,MAAI,OAAO,eAAe,CAAC,cAAc,CAAC,MAAM;AAC/C,UAAM,IAAI,YAAY,MAAM;AAAA,MAC3B,SAAS;AAAA,MACT,YAAY;AAAA,IACf,CAAG;AAAA,EACF,OAAO;AACN,UAAM,SAAS,YAAY,OAAO;AAClC,QAAI,UAAU,MAAM,MAAM,IAAI;AAAA,EAC/B;AAEA,MAAI,KAAK,QAAQ;AACjB,MAAI,OAAO,UAAU;AACrB,MAAI,OAAO,YAAY;AACvB,MAAI,QAAQ;AAEZ,MAAI,WAAW;AACf,MAAI,WAAW;AAEf,MAAI,oBAAoB;AACxB,MAAI,oBAAoB;AAExB,MAAI,gBAAgB;AACpB,MAAI,WAAW,cAAc,YAAY,cAAc;AAEvD,MAAI,qBAAqB,EAAE,GAAG,sBAAsB,GAAG,cAAc,mBAAmB,MAAM,QAAQ,EAAC;AACvG,WAAS,UAAU,oBAAoB;AACtC,QAAI,MAAM,IAAI,mBAAmB,MAAM;AAAA,EACxC;AAEA,MAAI,QAAQ;AACX,WAAO,cAAc,GAAG;AAAA,EACzB;AAEA,MAAI,QAAQ,MAAM,GAAG;AACpB,YAAQ,MAAM,EAAE,KAAK,UAAU,GAAG;AAAA,EACnC;AACD;"}