{"version":3,"file":"EventDispatcher.js","sources":["../../../../../../packages/extension/WhichWay/lib/Sortable/EventDispatcher.js"],"sourcesContent":["import { IE11OrLess, Edge } from './BrowserInfo.js';\r\nimport { expando } from './utils.js';\r\nimport PluginManager from './PluginManager.js';\r\n\r\nexport default function dispatchEvent(\r\n\t{\r\n\t\tsortable, rootEl, name,\r\n\t\ttargetEl, cloneEl, toEl, fromEl,\r\n\t\toldIndex, newIndex,\r\n\t\toldDraggableIndex, newDraggableIndex,\r\n\t\toriginalEvent, putSortable, extraEventProperties\r\n\t}\r\n) {\r\n\tsortable = (sortable || (rootEl && rootEl[expando]));\r\n\tif (!sortable) return;\r\n\r\n\tlet evt,\r\n\t\toptions = sortable.options,\r\n\t\tonName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);\r\n\t// Support for new CustomEvent feature\r\n\tif (window.CustomEvent && !IE11OrLess && !Edge) {\r\n\t\tevt = new CustomEvent(name, {\r\n\t\t\tbubbles: true,\r\n\t\t\tcancelable: true\r\n\t\t});\r\n\t} else {\r\n\t\tevt = document.createEvent('Event');\r\n\t\tevt.initEvent(name, true, true);\r\n\t}\r\n\r\n\tevt.to = toEl || rootEl;\r\n\tevt.from = fromEl || rootEl;\r\n\tevt.item = targetEl || rootEl;\r\n\tevt.clone = cloneEl;\r\n\r\n\tevt.oldIndex = oldIndex;\r\n\tevt.newIndex = newIndex;\r\n\r\n\tevt.oldDraggableIndex = oldDraggableIndex;\r\n\tevt.newDraggableIndex = newDraggableIndex;\r\n\r\n\tevt.originalEvent = originalEvent;\r\n\tevt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\r\n\r\n\tlet allEventProperties = { ...extraEventProperties, ...PluginManager.getEventProperties(name, sortable) };\r\n\tfor (let option in allEventProperties) {\r\n\t\tevt[option] = allEventProperties[option];\r\n\t}\r\n\r\n\tif (rootEl) {\r\n\t\trootEl.dispatchEvent(evt);\r\n\t}\r\n\r\n\tif (options[onName]) {\r\n\t\toptions[onName].call(sortable, evt);\r\n\t}\r\n}\r\n"],"names":[],"mappings":";;;AAIe,SAAS,cACvB;AAAA,EACC;AAAA,EAAU;AAAA,EAAQ;AAAA,EAClB;AAAA,EAAU;AAAA,EAAS;AAAA,EAAM;AAAA,EACzB;AAAA,EAAU;AAAA,EACV;AAAA,EAAmB;AAAA,EACnB;AAAA,EAAe;AAAA,EAAa;AAC9B,GACE;AACD,aAAY,YAAa,UAAU,OAAO,OAAO;AACjD,MAAI,CAAC,SAAU;AAEf,MAAI,KACH,UAAU,SAAS,SACnB,SAAS,OAAO,KAAK,OAAO,CAAC,EAAE,YAAW,IAAK,KAAK,OAAO,CAAC;AAE7D,MAAI,OAAO,eAAe,CAAC,cAAc,CAAC,MAAM;AAC/C,UAAM,IAAI,YAAY,MAAM;AAAA,MAC3B,SAAS;AAAA,MACT,YAAY;AAAA,IACf,CAAG;AAAA,EACF,OAAO;AACN,UAAM,SAAS,YAAY,OAAO;AAClC,QAAI,UAAU,MAAM,MAAM,IAAI;AAAA,EAC/B;AAEA,MAAI,KAAK,QAAQ;AACjB,MAAI,OAAO,UAAU;AACrB,MAAI,OAAO,YAAY;AACvB,MAAI,QAAQ;AAEZ,MAAI,WAAW;AACf,MAAI,WAAW;AAEf,MAAI,oBAAoB;AACxB,MAAI,oBAAoB;AAExB,MAAI,gBAAgB;AACpB,MAAI,WAAW,cAAc,YAAY,cAAc;AAEvD,MAAI,qBAAqB,EAAE,GAAG,sBAAsB,GAAG,cAAc,mBAAmB,MAAM,QAAQ;AACtG,WAAS,UAAU,oBAAoB;AACtC,QAAI,MAAM,IAAI,mBAAmB,MAAM;AAAA,EACxC;AAEA,MAAI,QAAQ;AACX,WAAO,cAAc,GAAG;AAAA,EACzB;AAEA,MAAI,QAAQ,MAAM,GAAG;AACpB,YAAQ,MAAM,EAAE,KAAK,UAAU,GAAG;AAAA,EACnC;AACD;"}